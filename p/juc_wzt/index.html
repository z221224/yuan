<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="JUCÊ¶ÇËø∞\r‰ªÄ‰πàÊòØJUCÔºü\rjava.util.concurrentÂåÖ‰∏≠Êèê‰æõÁöÑÂπ∂ÂèëÁºñÁ®ãÁöÑÂ∑•ÂÖ∑Á±ª\nÂÆÉÊèê‰æõÂ§öÁßçÂ∑•ÂÖ∑Á±ªÔºöÂéüÂ≠êÁ±ªÔºåÁ∫øÁ®ãÊ±†ÔºåÂπ∂ÂèëÈõÜÂêàÔºåÂêåÊ≠•Âô®\nËøõÁ®ã‰∏éÁ∫øÁ®ãÔºö\rËøõÁ®ãÔºöÂÖ∑Â§áÁã¨Á´ãÂäüËÉΩÁöÑÁ®ãÂ∫èËΩØ‰ª∂ÂÖ≥‰∫éÊüê‰∏™Êï∞ÊçÆÈõÜÂêàÁöÑ‰æùÊ¨°ËøêË°åÊ¥ªÂä®\nÊìç‰ΩúÁ≥ªÁªüÂä®ÊÄÅÊâßË°åÁöÑÂü∫Êú¨Âçï‰Ωç\nÁ∫øÁ®ãÔºö‰∏Ä‰∏™ËøõÁ®ãÂåÖÂê´‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Á∫øÁ®ã\nÁã¨Á´ãËøêË°åÂíåË∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰Ωç\nÂπ∂Ë°åÂíåÂπ∂ÂèëÔºö\rÂπ∂Ë°åÔºöÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Ë∑ëÔºåÂπ≤‰∏çÂêåÁöÑ‰∫ã\nÂπ∂ÂèëÔºöÂ§ö‰∏™Á∫øÁ®ãÂØπÂêå‰∏ÄËµÑÊ∫êÁöÑÊä¢Âç†\nÂêåÊ≠•ÂíåÂºÇÊ≠•Ôºö\rÂêåÊ≠•Ôºö‰ªªÂä°ÊåâÈ°∫Â∫è‰æùÊ¨°ÊâßË°åÔºåÊØè‰∏Ä‰∏™‰ªªÂä°ÂøÖÈ°ªÁ≠âÂæÖÂâç‰∏Ä‰∏™‰ªªÂä°ÂÆåÊàê\nÂºÇÊ≠•ÔºöÂêåÊó∂ÂèëËµ∑ËØ∑Ê±ÇÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖÁªìÊûúÔºåÁªìÊûúÂõûÊù•Âêé\nÁ∫øÁ®ãÁöÑÁä∂ÊÄÅÔºö\rÊñ∞Âª∫ÔºàNewÔºâÔºöÁ∫øÁ®ãË¢´ÂàõÂª∫‰ΩÜÂ∞öÊú™ÂêØÂä®ÊâßË°å„ÄÇ Â∞±Áª™ÔºàRunnableÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖCPUÊó∂Èó¥Áâá‰ª•‰æøÊâßË°åÔºå‰πüÂ∞±ÊòØÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅ„ÄÇ ÈòªÂ°ûÔºàBlockedÔºâÔºöÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÔºåÈÄöÂ∏∏ÊòØÂõ†‰∏∫Á≠âÂæÖÊüê‰∫õÊù°‰ª∂Êª°Ë∂≥Ôºå‰æãÂ¶ÇÁ≠âÂæÖI/OÊìç‰ΩúÂÆåÊàê„ÄÅÁ≠âÂæÖÈîÅÈáäÊîæÁ≠â„ÄÇ Êó†ÈôêÊúüÁ≠âÂæÖÔºàWaitingÔºâÔºöÁ∫øÁ®ãÊó†ÈôêÊúüÂú∞Á≠âÂæÖÊüê‰∏™Êù°‰ª∂ÁöÑÂèëÁîüÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂÖ∂‰ªñÁ∫øÁ®ãÊù•Âî§ÈÜíÂÆÉ„ÄÇ ÊúâÈôêÊúüÁ≠âÂæÖÔºàTimed WaitingÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÔºåË∂ÖËøáÊåáÂÆöÊó∂Èó¥Âêé‰ºöËá™Âä®Âî§ÈÜí„ÄÇ ÁªàÊ≠¢ÔºàTerminatedÔºâÔºöÁ∫øÁ®ãÊâßË°åÂÆåÊàêÊàñËÄÖÂºÇÂ∏∏ÁªàÊ≠¢ÔºåËøõÂÖ•ÁªàÊ≠¢Áä∂ÊÄÅ„ÄÇ Êûö‰∏æÊ≤°ËµãÂÄº‰ºöÁªôÂÆÉËµãÂàùÂÄºÔºå‰ªé0ÂºÄÂßãÁ¥ØÂä†\nwaitÂíåsleep\rÂå∫Âà´Ôºö\nwaitÈúÄË¶Å notify()ÊàñnotifyAll()ÊñπÊ≥ïÊù•Âî§ÈÜí ÂøÖÈ°ªÂú®ÈîÅÁéØÂ¢É‰∏ã‰ΩøÁî®\nsleepÊòØÂΩìÂâçÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÊåáÂÆöÊó∂Èó¥ÔºåÊó∂Èó¥Âà∞Âî§ÈÜí\nÂàõÂª∫Á∫øÁ®ãÔºö\rÂàõÂª∫Á∫øÁ®ãÂ∏∏Áî®ÁöÑ‰∏§ÁßçÊñπÂºèÔºö\n1 2 3 4 1. ÁªßÊâøThreadÔºöjavaÊòØÂçïÁªßÊâøÔºåËµÑÊ∫êÂÆùË¥µÔºåË¶ÅÁî®Êé•Âè£ÊñπÂºè extends Thread 2. ÂÆûÁé∞RunableÊé•Âè£ implements Runnable 3. implements Callable 4. ThreadPoolExecutor *********************************************************************************************ËßÜÈ¢ëÁªÜËäÇÈúÄË¶ÅË°•ÂÖÖ\nÁªßÊâøThreadÊäΩË±°Á±ªÔºö\r1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class T1 extends Thread{ @Override public void run() { System.out.println(&#34;Thread....&#34;); super.run(); } } public class ThreadDemo { public static void main(String[] args) { T1 t1 = new T1(); t1.start(); } } ÂÆûÁé∞RunableÊé•Âè£:\rÊñ∞Âª∫Á±ªÂÆûÁé∞runnableÊé•Âè£ÔºöËøôÁßçÊñπÊ≥ï‰ºöÊñ∞Â¢ûÁ±ªÔºåÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ï\n">
<title>juc_wzt</title>

<link rel='canonical' href='https://z221224.github.io/yuan/p/juc_wzt/'>

<link rel="stylesheet" href="/yuan/scss/style.min.b9c8156d464c343bdacaf14a871581fb94cbbdb9dd5cbce4ba017361187cc930.css"><meta property='og:title' content="juc_wzt">
<meta property='og:description' content="JUCÊ¶ÇËø∞\r‰ªÄ‰πàÊòØJUCÔºü\rjava.util.concurrentÂåÖ‰∏≠Êèê‰æõÁöÑÂπ∂ÂèëÁºñÁ®ãÁöÑÂ∑•ÂÖ∑Á±ª\nÂÆÉÊèê‰æõÂ§öÁßçÂ∑•ÂÖ∑Á±ªÔºöÂéüÂ≠êÁ±ªÔºåÁ∫øÁ®ãÊ±†ÔºåÂπ∂ÂèëÈõÜÂêàÔºåÂêåÊ≠•Âô®\nËøõÁ®ã‰∏éÁ∫øÁ®ãÔºö\rËøõÁ®ãÔºöÂÖ∑Â§áÁã¨Á´ãÂäüËÉΩÁöÑÁ®ãÂ∫èËΩØ‰ª∂ÂÖ≥‰∫éÊüê‰∏™Êï∞ÊçÆÈõÜÂêàÁöÑ‰æùÊ¨°ËøêË°åÊ¥ªÂä®\nÊìç‰ΩúÁ≥ªÁªüÂä®ÊÄÅÊâßË°åÁöÑÂü∫Êú¨Âçï‰Ωç\nÁ∫øÁ®ãÔºö‰∏Ä‰∏™ËøõÁ®ãÂåÖÂê´‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Á∫øÁ®ã\nÁã¨Á´ãËøêË°åÂíåË∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰Ωç\nÂπ∂Ë°åÂíåÂπ∂ÂèëÔºö\rÂπ∂Ë°åÔºöÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Ë∑ëÔºåÂπ≤‰∏çÂêåÁöÑ‰∫ã\nÂπ∂ÂèëÔºöÂ§ö‰∏™Á∫øÁ®ãÂØπÂêå‰∏ÄËµÑÊ∫êÁöÑÊä¢Âç†\nÂêåÊ≠•ÂíåÂºÇÊ≠•Ôºö\rÂêåÊ≠•Ôºö‰ªªÂä°ÊåâÈ°∫Â∫è‰æùÊ¨°ÊâßË°åÔºåÊØè‰∏Ä‰∏™‰ªªÂä°ÂøÖÈ°ªÁ≠âÂæÖÂâç‰∏Ä‰∏™‰ªªÂä°ÂÆåÊàê\nÂºÇÊ≠•ÔºöÂêåÊó∂ÂèëËµ∑ËØ∑Ê±ÇÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖÁªìÊûúÔºåÁªìÊûúÂõûÊù•Âêé\nÁ∫øÁ®ãÁöÑÁä∂ÊÄÅÔºö\rÊñ∞Âª∫ÔºàNewÔºâÔºöÁ∫øÁ®ãË¢´ÂàõÂª∫‰ΩÜÂ∞öÊú™ÂêØÂä®ÊâßË°å„ÄÇ Â∞±Áª™ÔºàRunnableÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖCPUÊó∂Èó¥Áâá‰ª•‰æøÊâßË°åÔºå‰πüÂ∞±ÊòØÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅ„ÄÇ ÈòªÂ°ûÔºàBlockedÔºâÔºöÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÔºåÈÄöÂ∏∏ÊòØÂõ†‰∏∫Á≠âÂæÖÊüê‰∫õÊù°‰ª∂Êª°Ë∂≥Ôºå‰æãÂ¶ÇÁ≠âÂæÖI/OÊìç‰ΩúÂÆåÊàê„ÄÅÁ≠âÂæÖÈîÅÈáäÊîæÁ≠â„ÄÇ Êó†ÈôêÊúüÁ≠âÂæÖÔºàWaitingÔºâÔºöÁ∫øÁ®ãÊó†ÈôêÊúüÂú∞Á≠âÂæÖÊüê‰∏™Êù°‰ª∂ÁöÑÂèëÁîüÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂÖ∂‰ªñÁ∫øÁ®ãÊù•Âî§ÈÜíÂÆÉ„ÄÇ ÊúâÈôêÊúüÁ≠âÂæÖÔºàTimed WaitingÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÔºåË∂ÖËøáÊåáÂÆöÊó∂Èó¥Âêé‰ºöËá™Âä®Âî§ÈÜí„ÄÇ ÁªàÊ≠¢ÔºàTerminatedÔºâÔºöÁ∫øÁ®ãÊâßË°åÂÆåÊàêÊàñËÄÖÂºÇÂ∏∏ÁªàÊ≠¢ÔºåËøõÂÖ•ÁªàÊ≠¢Áä∂ÊÄÅ„ÄÇ Êûö‰∏æÊ≤°ËµãÂÄº‰ºöÁªôÂÆÉËµãÂàùÂÄºÔºå‰ªé0ÂºÄÂßãÁ¥ØÂä†\nwaitÂíåsleep\rÂå∫Âà´Ôºö\nwaitÈúÄË¶Å notify()ÊàñnotifyAll()ÊñπÊ≥ïÊù•Âî§ÈÜí ÂøÖÈ°ªÂú®ÈîÅÁéØÂ¢É‰∏ã‰ΩøÁî®\nsleepÊòØÂΩìÂâçÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÊåáÂÆöÊó∂Èó¥ÔºåÊó∂Èó¥Âà∞Âî§ÈÜí\nÂàõÂª∫Á∫øÁ®ãÔºö\rÂàõÂª∫Á∫øÁ®ãÂ∏∏Áî®ÁöÑ‰∏§ÁßçÊñπÂºèÔºö\n1 2 3 4 1. ÁªßÊâøThreadÔºöjavaÊòØÂçïÁªßÊâøÔºåËµÑÊ∫êÂÆùË¥µÔºåË¶ÅÁî®Êé•Âè£ÊñπÂºè extends Thread 2. ÂÆûÁé∞RunableÊé•Âè£ implements Runnable 3. implements Callable 4. ThreadPoolExecutor *********************************************************************************************ËßÜÈ¢ëÁªÜËäÇÈúÄË¶ÅË°•ÂÖÖ\nÁªßÊâøThreadÊäΩË±°Á±ªÔºö\r1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class T1 extends Thread{ @Override public void run() { System.out.println(&#34;Thread....&#34;); super.run(); } } public class ThreadDemo { public static void main(String[] args) { T1 t1 = new T1(); t1.start(); } } ÂÆûÁé∞RunableÊé•Âè£:\rÊñ∞Âª∫Á±ªÂÆûÁé∞runnableÊé•Âè£ÔºöËøôÁßçÊñπÊ≥ï‰ºöÊñ∞Â¢ûÁ±ªÔºåÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ï\n">
<meta property='og:url' content='https://z221224.github.io/yuan/p/juc_wzt/'>
<meta property='og:site_name' content='Á±≥ Á≤í'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-01-09T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-01-09T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="juc_wzt">
<meta name="twitter:description" content="JUCÊ¶ÇËø∞\r‰ªÄ‰πàÊòØJUCÔºü\rjava.util.concurrentÂåÖ‰∏≠Êèê‰æõÁöÑÂπ∂ÂèëÁºñÁ®ãÁöÑÂ∑•ÂÖ∑Á±ª\nÂÆÉÊèê‰æõÂ§öÁßçÂ∑•ÂÖ∑Á±ªÔºöÂéüÂ≠êÁ±ªÔºåÁ∫øÁ®ãÊ±†ÔºåÂπ∂ÂèëÈõÜÂêàÔºåÂêåÊ≠•Âô®\nËøõÁ®ã‰∏éÁ∫øÁ®ãÔºö\rËøõÁ®ãÔºöÂÖ∑Â§áÁã¨Á´ãÂäüËÉΩÁöÑÁ®ãÂ∫èËΩØ‰ª∂ÂÖ≥‰∫éÊüê‰∏™Êï∞ÊçÆÈõÜÂêàÁöÑ‰æùÊ¨°ËøêË°åÊ¥ªÂä®\nÊìç‰ΩúÁ≥ªÁªüÂä®ÊÄÅÊâßË°åÁöÑÂü∫Êú¨Âçï‰Ωç\nÁ∫øÁ®ãÔºö‰∏Ä‰∏™ËøõÁ®ãÂåÖÂê´‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Á∫øÁ®ã\nÁã¨Á´ãËøêË°åÂíåË∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰Ωç\nÂπ∂Ë°åÂíåÂπ∂ÂèëÔºö\rÂπ∂Ë°åÔºöÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Ë∑ëÔºåÂπ≤‰∏çÂêåÁöÑ‰∫ã\nÂπ∂ÂèëÔºöÂ§ö‰∏™Á∫øÁ®ãÂØπÂêå‰∏ÄËµÑÊ∫êÁöÑÊä¢Âç†\nÂêåÊ≠•ÂíåÂºÇÊ≠•Ôºö\rÂêåÊ≠•Ôºö‰ªªÂä°ÊåâÈ°∫Â∫è‰æùÊ¨°ÊâßË°åÔºåÊØè‰∏Ä‰∏™‰ªªÂä°ÂøÖÈ°ªÁ≠âÂæÖÂâç‰∏Ä‰∏™‰ªªÂä°ÂÆåÊàê\nÂºÇÊ≠•ÔºöÂêåÊó∂ÂèëËµ∑ËØ∑Ê±ÇÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖÁªìÊûúÔºåÁªìÊûúÂõûÊù•Âêé\nÁ∫øÁ®ãÁöÑÁä∂ÊÄÅÔºö\rÊñ∞Âª∫ÔºàNewÔºâÔºöÁ∫øÁ®ãË¢´ÂàõÂª∫‰ΩÜÂ∞öÊú™ÂêØÂä®ÊâßË°å„ÄÇ Â∞±Áª™ÔºàRunnableÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖCPUÊó∂Èó¥Áâá‰ª•‰æøÊâßË°åÔºå‰πüÂ∞±ÊòØÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅ„ÄÇ ÈòªÂ°ûÔºàBlockedÔºâÔºöÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÔºåÈÄöÂ∏∏ÊòØÂõ†‰∏∫Á≠âÂæÖÊüê‰∫õÊù°‰ª∂Êª°Ë∂≥Ôºå‰æãÂ¶ÇÁ≠âÂæÖI/OÊìç‰ΩúÂÆåÊàê„ÄÅÁ≠âÂæÖÈîÅÈáäÊîæÁ≠â„ÄÇ Êó†ÈôêÊúüÁ≠âÂæÖÔºàWaitingÔºâÔºöÁ∫øÁ®ãÊó†ÈôêÊúüÂú∞Á≠âÂæÖÊüê‰∏™Êù°‰ª∂ÁöÑÂèëÁîüÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂÖ∂‰ªñÁ∫øÁ®ãÊù•Âî§ÈÜíÂÆÉ„ÄÇ ÊúâÈôêÊúüÁ≠âÂæÖÔºàTimed WaitingÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÔºåË∂ÖËøáÊåáÂÆöÊó∂Èó¥Âêé‰ºöËá™Âä®Âî§ÈÜí„ÄÇ ÁªàÊ≠¢ÔºàTerminatedÔºâÔºöÁ∫øÁ®ãÊâßË°åÂÆåÊàêÊàñËÄÖÂºÇÂ∏∏ÁªàÊ≠¢ÔºåËøõÂÖ•ÁªàÊ≠¢Áä∂ÊÄÅ„ÄÇ Êûö‰∏æÊ≤°ËµãÂÄº‰ºöÁªôÂÆÉËµãÂàùÂÄºÔºå‰ªé0ÂºÄÂßãÁ¥ØÂä†\nwaitÂíåsleep\rÂå∫Âà´Ôºö\nwaitÈúÄË¶Å notify()ÊàñnotifyAll()ÊñπÊ≥ïÊù•Âî§ÈÜí ÂøÖÈ°ªÂú®ÈîÅÁéØÂ¢É‰∏ã‰ΩøÁî®\nsleepÊòØÂΩìÂâçÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÊåáÂÆöÊó∂Èó¥ÔºåÊó∂Èó¥Âà∞Âî§ÈÜí\nÂàõÂª∫Á∫øÁ®ãÔºö\rÂàõÂª∫Á∫øÁ®ãÂ∏∏Áî®ÁöÑ‰∏§ÁßçÊñπÂºèÔºö\n1 2 3 4 1. ÁªßÊâøThreadÔºöjavaÊòØÂçïÁªßÊâøÔºåËµÑÊ∫êÂÆùË¥µÔºåË¶ÅÁî®Êé•Âè£ÊñπÂºè extends Thread 2. ÂÆûÁé∞RunableÊé•Âè£ implements Runnable 3. implements Callable 4. ThreadPoolExecutor *********************************************************************************************ËßÜÈ¢ëÁªÜËäÇÈúÄË¶ÅË°•ÂÖÖ\nÁªßÊâøThreadÊäΩË±°Á±ªÔºö\r1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class T1 extends Thread{ @Override public void run() { System.out.println(&#34;Thread....&#34;); super.run(); } } public class ThreadDemo { public static void main(String[] args) { T1 t1 = new T1(); t1.start(); } } ÂÆûÁé∞RunableÊé•Âè£:\rÊñ∞Âª∫Á±ªÂÆûÁé∞runnableÊé•Âè£ÔºöËøôÁßçÊñπÊ≥ï‰ºöÊñ∞Â¢ûÁ±ªÔºåÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ï\n">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/yuan/">
                
                    
                    
                    
                        
                        <img src="/yuan/img/avatar_hu13739649187745961479.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üï∏Ô∏è</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/yuan">Á±≥ Á≤í</a></h1>
            <h2 class="site-description">‰Ω†ÊÑüÂà∞ÁóõËã¶ÔºåÊòØÂõ†‰∏∫‰Ω†Âú®ÊàêÈïø</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://www.bilibili.com/'
                        target="_blank"
                        title="bilibili"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/z221224'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/yuan/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/yuan/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/yuan/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/yuan/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/yuan/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÈìæÊé•</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#jucÊ¶ÇËø∞">JUCÊ¶ÇËø∞</a>
      <ol>
        <li><a href="#‰ªÄ‰πàÊòØjuc">‰ªÄ‰πàÊòØJUCÔºü</a></li>
        <li><a href="#ËøõÁ®ã‰∏éÁ∫øÁ®ã">ËøõÁ®ã‰∏éÁ∫øÁ®ãÔºö</a></li>
        <li><a href="#Âπ∂Ë°åÂíåÂπ∂Âèë">Âπ∂Ë°åÂíåÂπ∂ÂèëÔºö</a></li>
        <li><a href="#ÂêåÊ≠•ÂíåÂºÇÊ≠•">ÂêåÊ≠•ÂíåÂºÇÊ≠•Ôºö</a></li>
        <li><a href="#Á∫øÁ®ãÁöÑÁä∂ÊÄÅ">Á∫øÁ®ãÁöÑÁä∂ÊÄÅÔºö</a></li>
        <li><a href="#waitÂíåsleep">waitÂíåsleep</a></li>
        <li><a href="#ÂàõÂª∫Á∫øÁ®ã">ÂàõÂª∫Á∫øÁ®ãÔºö</a>
          <ol>
            <li><a href="#ÁªßÊâøthreadÊäΩË±°Á±ª">ÁªßÊâøThreadÊäΩË±°Á±ªÔºö</a></li>
            <li><a href="#ÂÆûÁé∞runableÊé•Âè£">ÂÆûÁé∞RunableÊé•Âè£:</a></li>
          </ol>
        </li>
        <li><a href="#synchronized">synchronized</a></li>
        <li><a href="#synchronizedÁöÑ8ÈîÅÈóÆÈ¢ò">synchronizedÁöÑ8ÈîÅÈóÆÈ¢ò</a></li>
      </ol>
    </li>
    <li><a href="#lockÈîÅ">LockÈîÅ:</a>
      <ol>
        <li><a href="#reentrantlockÂèØÈáçÂÖ•ÈîÅ">ReentrantLockÂèØÈáçÂÖ•ÈîÅ</a></li>
        <li><a href="#ÂÖ¨Âπ≥ÈîÅ">ÂÖ¨Âπ≥ÈîÅ</a></li>
        <li><a href="#ÈôêÊó∂Á≠âÂæÖ">ÈôêÊó∂Á≠âÂæÖ</a></li>
        <li><a href="#reentrantlockÂíåsynchronizedÂå∫Âà´">ReentrantLockÂíåsynchronizedÂå∫Âà´</a></li>
        <li><a href="#reentrantreadwritelockËØªÂÜôÈîÅ">ReentrantReadWriteLockËØªÂÜôÈîÅ</a></li>
        <li><a href="#ÈîÅÈôçÁ∫ß">ÈîÅÈôçÁ∫ß</a></li>
        <li><a href="#ËØªÂÜôÈîÅÊÄªÁªì">ËØªÂÜôÈîÅÊÄªÁªì</a></li>
      </ol>
    </li>
    <li><a href="#Á∫øÁ®ãÈó¥ÈÄö‰ø°">Á∫øÁ®ãÈó¥ÈÄö‰ø°</a>
      <ol>
        <li><a href="#Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°Êùø‰∏≠">Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°Êùø(‰∏≠)</a></li>
        <li><a href="#ËôöÂÅáÂî§ÈÜí">ËôöÂÅáÂî§ÈÜí</a></li>
        <li><a href="#Á∫øÁ®ãÈÄö‰ø°condition">Á∫øÁ®ãÈÄö‰ø°ÔºàConditionÔºâ</a></li>
        <li><a href="#ÂÆöÂà∂ÂåñË∞ÉÁî®ÈÄö‰ø°">ÂÆöÂà∂ÂåñË∞ÉÁî®ÈÄö‰ø°</a></li>
      </ol>
    </li>
    <li><a href="#Âπ∂ÂèëÂÆπÂô®Á±ª">Âπ∂ÂèëÂÆπÂô®Á±ª</a>
      <ol>
        <li><a href="#copyonwrite"><strong>CopyOnWrite</strong></a>
          <ol>
            <li><a href="#‰ªÄ‰πàÊòØcopyonwriteÂÆπÂô®">‰ªÄ‰πàÊòØCopyOnWriteÂÆπÂô®</a></li>
          </ol>
        </li>
        <li><a href="#Â∫îÁî®Âú∫ÊôØ">Â∫îÁî®Âú∫ÊôØÔºö</a></li>
        <li><a href="#Áº∫ÁÇπ">Áº∫ÁÇπ</a></li>
        <li><a href="#concurrenthashmap">ConcurrentHashMap</a></li>
      </ol>
    </li>
    <li><a href="#jucÂº∫Â§ßÁöÑËæÖÂä©Á±ª">JUCÂº∫Â§ßÁöÑËæÖÂä©Á±ª</a>
      <ol>
        <li><a href="#countdownlatch">CountDownLatch</a></li>
        <li><a href="#countdownlatch-‰∏é-join-ÊñπÊ≥ïÁöÑÂå∫Âà´">CountDownLatch ‰∏é join ÊñπÊ≥ïÁöÑÂå∫Âà´</a></li>
        <li><a href="#cyclicbarrier">CyclicBarrier</a></li>
        <li><a href="#cyclicbarrierÂíåcountdownlatchÁöÑÂå∫Âà´">CyclicBarrierÂíåCountDownLatchÁöÑÂå∫Âà´</a></li>
        <li><a href="#semaphore">Semaphore</a></li>
      </ol>
    </li>
    <li><a href="#callableÊé•Âè£">CallableÊé•Âè£</a>
      <ol>
        <li><a href="#callableÂíårunnableÂØπÊØî">CallableÂíåRunnableÂØπÊØî</a></li>
        <li><a href="#callableÁöÑ‰ΩøÁî®">CallableÁöÑ‰ΩøÁî®</a></li>
        <li><a href="#futuretask">FutureTask</a></li>
        <li><a href="#callableÊé•Âè£‰∏érunnableÊé•Âè£ÁöÑÂå∫Âà´">callableÊé•Âè£‰∏érunnableÊé•Âè£ÁöÑÂå∫Âà´Ôºü</a></li>
      </ol>
    </li>
    <li><a href="#Ëé∑ÂèñÂ§öÁ∫øÁ®ãÁöÑÊñπÊ≥ï">Ëé∑ÂèñÂ§öÁ∫øÁ®ãÁöÑÊñπÊ≥ï</a></li>
    <li><a href="#ÈòªÂ°ûÈòüÂàóblockingqueue">ÈòªÂ°ûÈòüÂàóÔºàBlockingQueueÔºâ</a>
      <ol>
        <li><a href="#‰ªÄ‰πàÊòØblockingqueue">‰ªÄ‰πàÊòØBlockingQueue</a></li>
        <li><a href="#blockingqueueÊé•Âè£">BlockingQueueÊé•Âè£</a></li>
        <li><a href="#ÊäõÂá∫ÂºÇÂ∏∏">ÊäõÂá∫ÂºÇÂ∏∏</a></li>
        <li><a href="#ÁâπÊÆäÂÄº">ÁâπÊÆäÂÄº</a></li>
        <li><a href="#ÈòªÂ°û">ÈòªÂ°û</a></li>
        <li><a href="#Ë∂ÖÊó∂">Ë∂ÖÊó∂</a></li>
        <li><a href="#ÈòªÂ°ûÈòüÂàóÊìç‰Ωú">ÈòªÂ°ûÈòüÂàóÊìç‰Ωú</a></li>
        <li><a href="#Áîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ°à‰æã">Áîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ°à‰æã</a></li>
        <li><a href="#synchronousqueue">SynchronousQueue</a></li>
      </ol>
    </li>
    <li><a href="#Á∫øÁ®ãÊ±†">Á∫øÁ®ãÊ±†</a>
      <ol>
        <li><a href="#Á∫øÁ®ãÊ±†Ê°ÜÊû∂">Á∫øÁ®ãÊ±†Ê°ÜÊû∂</a></li>
        <li><a href="#executorsÁ¶ÅÁî®">Executors(Á¶ÅÁî®)</a></li>
        <li><a href="#Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ">Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ</a>
          <ol>
            <li><a href="#Â¶Ç‰ΩïÂàõÂª∫Á∫øÁ®ãÊ±†">Â¶Ç‰ΩïÂàõÂª∫Á∫øÁ®ãÊ±†Ôºü</a></li>
            <li><a href="#7‰∏™ÂèÇÊï∞">7‰∏™ÂèÇÊï∞</a></li>
            <li><a href="#Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ-1">Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ</a></li>
            <li><a href="#ÊãíÁªùÁ≠ñÁï•">ÊãíÁªùÁ≠ñÁï•</a></li>
          </ol>
        </li>
        <li><a href="#Ëá™ÂÆö‰πâÁ∫øÁ®ãÊ±†">Ëá™ÂÆö‰πâÁ∫øÁ®ãÊ±†</a></li>
        <li><a href="#ÊÄªÁªì">ÊÄªÁªì</a></li>
      </ol>
    </li>
    <li><a href="#Â§öÁ∫øÁ®ãÈ´òÂπ∂ÂèëÂ∫ïÂ±ÇÂéüÁêÜ">Â§öÁ∫øÁ®ãÈ´òÂπ∂ÂèëÂ∫ïÂ±ÇÂéüÁêÜ</a>
      <ol>
        <li><a href="#javaÂÜÖÂ≠òÊ®°Âûãjmm">JavaÂÜÖÂ≠òÊ®°Âûã(JMM)</a></li>
        <li><a href="#volatileÂÖ≥ÈîÆÂ≠ó">volatileÂÖ≥ÈîÆÂ≠ó</a>
          <ol>
            <li><a href="#ÂèØËßÅÊÄß">ÂèØËßÅÊÄß</a></li>
            <li><a href="#ÊúâÂ∫èÊÄß">ÊúâÂ∫èÊÄß</a></li>
            <li><a href="#ÂéüÂ≠êÊÄß">ÂéüÂ≠êÊÄß</a></li>
            <li><a href="#‰øùËØÅ‰∏âÂ§ßÁâπÊÄß">‰øùËØÅ‰∏âÂ§ßÁâπÊÄß</a></li>
          </ol>
        </li>
        <li><a href="#cas">CAS</a></li>
        <li><a href="#aqs">AQS</a>
          <ol>
            <li><a href="#‰ªÄ‰πàÊòØaqs"><strong>‰ªÄ‰πàÊòØAQS</strong></a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#reentrantlock">ReentrantLock</a>
      <ol>
        <li><a href="#‰∏äÈîÅË∞ÉËØïÂÖ¨Âπ≥ÈîÅËß£ÈîÅ">‰∏äÈîÅÔºåË∞ÉËØïÂÖ¨Âπ≥ÈîÅÔºåËß£ÈîÅ</a></li>
        <li><a href="#aqsÁöÑÂ∫ïÂ±ÇÂéüÁêÜ">AQSÁöÑÂ∫ïÂ±ÇÂéüÁêÜ</a></li>
      </ol>
    </li>
    <li><a href="#Ëá™ÊóãÈîÅ">Ëá™ÊóãÈîÅ</a>
      <ol>
        <li><a href="#Ëá™ÊóãÈîÅ‰ºòÁÇπ">Ëá™ÊóãÈîÅ‰ºòÁÇπ</a></li>
        <li><a href="#Ëá™ÊóãÈîÅÁº∫ÁÇπ">Ëá™ÊóãÈîÅÁº∫ÁÇπ</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/yuan/categories/%E9%A2%98%E5%BA%93/" >
                È¢òÂ∫ì
            </a>
        
            <a href="/yuan/categories/java/" >
                Java
            </a>
        
            <a href="/yuan/categories/juc/" >
                Juc
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/yuan/p/juc_wzt/">juc_wzt</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-01-09</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 18 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="jucÊ¶ÇËø∞">JUCÊ¶ÇËø∞
</h2><h3 id="‰ªÄ‰πàÊòØjuc">‰ªÄ‰πàÊòØJUCÔºü
</h3><p>java.util.concurrentÂåÖ‰∏≠Êèê‰æõÁöÑÂπ∂ÂèëÁºñÁ®ãÁöÑÂ∑•ÂÖ∑Á±ª</p>
<p>ÂÆÉÊèê‰æõÂ§öÁßçÂ∑•ÂÖ∑Á±ªÔºöÂéüÂ≠êÁ±ªÔºåÁ∫øÁ®ãÊ±†ÔºåÂπ∂ÂèëÈõÜÂêàÔºåÂêåÊ≠•Âô®</p>
<h3 id="ËøõÁ®ã‰∏éÁ∫øÁ®ã">ËøõÁ®ã‰∏éÁ∫øÁ®ãÔºö
</h3><p>ËøõÁ®ãÔºöÂÖ∑Â§áÁã¨Á´ãÂäüËÉΩÁöÑÁ®ãÂ∫èËΩØ‰ª∂ÂÖ≥‰∫éÊüê‰∏™Êï∞ÊçÆÈõÜÂêàÁöÑ‰æùÊ¨°ËøêË°åÊ¥ªÂä®</p>
<p>Êìç‰ΩúÁ≥ªÁªüÂä®ÊÄÅÊâßË°åÁöÑÂü∫Êú¨Âçï‰Ωç</p>
<p>Á∫øÁ®ãÔºö‰∏Ä‰∏™ËøõÁ®ãÂåÖÂê´‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Á∫øÁ®ã</p>
<p>Áã¨Á´ãËøêË°åÂíåË∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰Ωç</p>
<h3 id="Âπ∂Ë°åÂíåÂπ∂Âèë">Âπ∂Ë°åÂíåÂπ∂ÂèëÔºö
</h3><p>Âπ∂Ë°åÔºöÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Ë∑ëÔºåÂπ≤‰∏çÂêåÁöÑ‰∫ã</p>
<p>Âπ∂ÂèëÔºöÂ§ö‰∏™Á∫øÁ®ãÂØπÂêå‰∏ÄËµÑÊ∫êÁöÑÊä¢Âç†</p>
<h3 id="ÂêåÊ≠•ÂíåÂºÇÊ≠•">ÂêåÊ≠•ÂíåÂºÇÊ≠•Ôºö
</h3><p>ÂêåÊ≠•Ôºö‰ªªÂä°ÊåâÈ°∫Â∫è‰æùÊ¨°ÊâßË°åÔºåÊØè‰∏Ä‰∏™‰ªªÂä°ÂøÖÈ°ªÁ≠âÂæÖÂâç‰∏Ä‰∏™‰ªªÂä°ÂÆåÊàê</p>
<p>ÂºÇÊ≠•ÔºöÂêåÊó∂ÂèëËµ∑ËØ∑Ê±ÇÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖÁªìÊûúÔºåÁªìÊûúÂõûÊù•Âêé</p>
<h3 id="Á∫øÁ®ãÁöÑÁä∂ÊÄÅ">Á∫øÁ®ãÁöÑÁä∂ÊÄÅÔºö
</h3><ol>
<li>Êñ∞Âª∫ÔºàNewÔºâÔºöÁ∫øÁ®ãË¢´ÂàõÂª∫‰ΩÜÂ∞öÊú™ÂêØÂä®ÊâßË°å„ÄÇ</li>
<li>Â∞±Áª™ÔºàRunnableÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖCPUÊó∂Èó¥Áâá‰ª•‰æøÊâßË°åÔºå‰πüÂ∞±ÊòØÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅ„ÄÇ</li>
<li>ÈòªÂ°ûÔºàBlockedÔºâÔºöÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÔºåÈÄöÂ∏∏ÊòØÂõ†‰∏∫Á≠âÂæÖÊüê‰∫õÊù°‰ª∂Êª°Ë∂≥Ôºå‰æãÂ¶ÇÁ≠âÂæÖI/OÊìç‰ΩúÂÆåÊàê„ÄÅÁ≠âÂæÖÈîÅÈáäÊîæÁ≠â„ÄÇ</li>
<li>Êó†ÈôêÊúüÁ≠âÂæÖÔºàWaitingÔºâÔºöÁ∫øÁ®ãÊó†ÈôêÊúüÂú∞Á≠âÂæÖÊüê‰∏™Êù°‰ª∂ÁöÑÂèëÁîüÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂÖ∂‰ªñÁ∫øÁ®ãÊù•Âî§ÈÜíÂÆÉ„ÄÇ</li>
<li>ÊúâÈôêÊúüÁ≠âÂæÖÔºàTimed WaitingÔºâÔºöÁ∫øÁ®ãÁ≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÔºåË∂ÖËøáÊåáÂÆöÊó∂Èó¥Âêé‰ºöËá™Âä®Âî§ÈÜí„ÄÇ</li>
<li>ÁªàÊ≠¢ÔºàTerminatedÔºâÔºöÁ∫øÁ®ãÊâßË°åÂÆåÊàêÊàñËÄÖÂºÇÂ∏∏ÁªàÊ≠¢ÔºåËøõÂÖ•ÁªàÊ≠¢Áä∂ÊÄÅ„ÄÇ</li>
</ol>
<p>Êûö‰∏æÊ≤°ËµãÂÄº‰ºöÁªôÂÆÉËµãÂàùÂÄºÔºå‰ªé0ÂºÄÂßãÁ¥ØÂä†</p>
<h3 id="waitÂíåsleep">waitÂíåsleep
</h3><p>Âå∫Âà´Ôºö</p>
<p>waitÈúÄË¶Å <code>notify()</code>Êàñ<code>notifyAll()</code>ÊñπÊ≥ïÊù•Âî§ÈÜí    ÂøÖÈ°ªÂú®ÈîÅÁéØÂ¢É‰∏ã‰ΩøÁî®</p>
<p>sleepÊòØÂΩìÂâçÁ∫øÁ®ãÊöÇÂÅúÊâßË°åÊåáÂÆöÊó∂Èó¥ÔºåÊó∂Èó¥Âà∞Âî§ÈÜí</p>
<h3 id="ÂàõÂª∫Á∫øÁ®ã">ÂàõÂª∫Á∫øÁ®ãÔºö
</h3><p><strong>ÂàõÂª∫Á∫øÁ®ãÂ∏∏Áî®ÁöÑ‰∏§ÁßçÊñπÂºè</strong>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="mf">1.</span> <span class="err">ÁªßÊâø</span><span class="ne">Thread</span><span class="err">Ôºö</span><span class="n">javaÊòØÂçïÁªßÊâø</span><span class="err">ÔºåËµÑÊ∫êÂÆùË¥µÔºåË¶ÅÁî®Êé•Âè£ÊñπÂºè</span> <span class="k">extends</span> <span class="ne">Thread</span>
</span></span><span class="line"><span class="cl"><span class="mf">2.</span> <span class="err">ÂÆûÁé∞</span><span class="n">RunableÊé•Âè£</span> <span class="n">implements</span> <span class="n">Runnable</span>
</span></span><span class="line"><span class="cl"><span class="mf">3.</span> <span class="n">implements</span> <span class="n">Callable</span>
</span></span><span class="line"><span class="cl"><span class="mf">4.</span> <span class="n">ThreadPoolExecutor</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>*********************************************************************************************ËßÜÈ¢ëÁªÜËäÇÈúÄË¶ÅË°•ÂÖÖ</p>
<h4 id="ÁªßÊâøthreadÊäΩË±°Á±ª">ÁªßÊâøThreadÊäΩË±°Á±ªÔºö
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">T1</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Thread</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Thread....&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">run</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ThreadDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">T1</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">T1</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">t1</span><span class="p">.</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂÆûÁé∞runableÊé•Âè£">ÂÆûÁé∞RunableÊé•Âè£:
</h4><p>Êñ∞Âª∫Á±ªÂÆûÁé∞runnableÊé•Âè£ÔºöËøôÁßçÊñπÊ≥ï‰ºöÊñ∞Â¢ûÁ±ªÔºåÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">T2</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Runnable</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="s">&#34; runnable....&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ThreadDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">T2</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Á∫øÁ®ãÂêç&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÂåøÂêçÂÜÖÈÉ®Á±ªÊñπÂºèÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Runnable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 		</span><span class="c1">// Ë∞ÉÁî®ËµÑÊ∫êÊñπÊ≥ïÔºåÂÆåÊàê‰∏öÂä°ÈÄªËæë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">},</span><span class="w"> </span><span class="s">&#34;your thread name&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>lambdaË°®ËææÂºèÊñπÂºèÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Ë∞ÉÁî®ËµÑÊ∫êÊñπÊ≥ïÔºåÂÆåÊàê‰∏öÂä°ÈÄªËæë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">},</span><span class="w"> </span><span class="s">&#34;your thread name&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="synchronized">synchronized
</h3><p><strong>Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°ÊùøÔºà‰∏äÔºâÔºö</strong></p>
<ul>
<li>È´òÂÜÖËÅö ‰ΩéËÄ¶Âêà   ÔºàÂ∞Ü‰ª£Á†ÅËøõË°å‰∏ÄÂÆöÁöÑÂ∞ÅË£ÖÔºåËøõË°åÈáçÂ§çÔºåÁã¨Á´ã‰ΩøÁî®Ôºâ</li>
<li><strong>Á∫øÁ®ã Êìç‰Ωú ËµÑÊ∫êÁ±ª</strong></li>
</ul>
<p><strong>ÂÆûÁé∞Ê≠•È™§Ôºö</strong></p>
<ol>
<li>ÂàõÂª∫ËµÑÊ∫êÁ±ª</li>
<li>ËµÑÊ∫êÁ±ªÈáåÂàõÂª∫ÂêåÊ≠•ÊñπÊ≥ï„ÄÅÂêåÊ≠•‰ª£Á†ÅÂùó</li>
<li>Â§öÁ∫øÁ®ãË∞ÉÁî®</li>
</ol>
<p>‰æãÂ≠êÔºöÂçñÁ•®Á®ãÂ∫è</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.atguigu.demojuc.chap01</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ËµÑÊ∫êÁ±ª‰∏≠ÂÜÖËÅöÊìç‰ΩúËµÑÊ∫êÁöÑÊñπÊ≥ïÔºåÈôç‰ΩéÁ∫øÁ®ãÊìç‰ΩúËµÑÊ∫êÁöÑËÄ¶ÂêàÊÄß</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">Ticket</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//  ÂÆö‰πâ‰∏Ä‰∏™Á•®Êï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">20</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//  ÂÆö‰πâ‰∏Ä‰∏™ÂçñÁ•®ÁöÑÊñπÊ≥ï: Âá∫Áé∞‰∫ÜËµÑÊ∫êÊä¢Âç†Ôºõ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//  synchronized: ‰ΩøÁî®synchronizedÂêåÊ≠•ÊñπÊ≥ïËß£ÂÜ≥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">synchronized</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sale</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//  Âà§Êñ≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="o">&lt;=</span><span class="n">0</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;Á•®Â∑≤ÂîÆÁΩÑÔºÅ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÂºÄÂßãÂîÆÁ•®ÔºåÂΩìÂâçÁ•®Êï∞Ôºö&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">200</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;‰π∞Á•®ÂîÆÁ•®ÔºåÂâ©‰ΩôÁ•®Êï∞Ôºö&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">--</span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SaleTicket</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//  ÂàõÂª∫ËµÑÊ∫êÁ±ªÂØπË±°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Ticket</span><span class="w"> </span><span class="n">ticket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Ticket</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//  ÂàõÂª∫Á∫øÁ®ã</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">21</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">ticket</span><span class="p">.</span><span class="na">sale</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="s">&#34;A&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">21</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">ticket</span><span class="p">.</span><span class="na">sale</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="s">&#34;B&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">21</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">ticket</span><span class="p">.</span><span class="na">sale</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="s">&#34;C&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="synchronizedÁöÑ8ÈîÅÈóÆÈ¢ò">synchronizedÁöÑ8ÈîÅÈóÆÈ¢ò
</h3><p>synchronizedÈîÅÁöÑÊòØ‰ªÄ‰πàÔºü</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Á±ªÂØπË±°„ÄÅÂÆû‰æãÂØπË±°
</span></span></code></pre></td></tr></table>
</div>
</div><p>java‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂØπË±°ÈÉΩÂèØ‰ª•‰Ωú‰∏∫ÈîÅ„ÄÇÂÖ∑‰ΩìË°®Áé∞‰∏∫‰ª•‰∏ã3ÁßçÂΩ¢ÂºèÔºö</p>
<ol>
<li>ÂØπ‰∫éÊôÆÈÄöÂêåÊ≠•ÊñπÊ≥ïÔºåÈîÅÊòØ<code>ÂΩìÂâçÂÆû‰æãÂØπË±°</code>„ÄÇ</li>
<li>ÂØπ‰∫é<code>ÈùôÊÄÅ</code>ÂêåÊ≠•ÊñπÊ≥ïÔºåÈîÅÊòØÂΩì<code>ÂâçÁ±ªÁöÑClassÂØπË±°</code>„ÄÇ</li>
<li>ÂØπ‰∫éÂêåÊ≠•‰ª£Á†ÅÂùóÔºåÈîÅÊòØSynchonizedÊã¨Âè∑ÈáåÈÖçÁΩÆÁöÑÂØπË±°</li>
<li>ËÄåÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÔºàClassÂØπË±°ÈîÅÔºâ‰∏éÈùûÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÔºàÂÆû‰æãÂØπË±°ÈîÅÔºâ‰πãÈó¥ÊòØ‰∏ç‰ºöÊúâÁ´û‰∫âÁöÑ(ÈîÅÈÉΩÊòØËá™Â∑±ÁöÑ)„ÄÇ</li>
</ol>
<h2 id="lockÈîÅ">LockÈîÅ:
</h2><p>lockÈîÅ+‰∏â‰∏™ÂÆûÁé∞Á±ª=JUCÈáåÈù¢ÁöÑÈîÅÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">ReentrantLock</span><span class="w"> </span><span class="n">ÂèØÈáçÂÖ•ÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="n">Ëøô‰∏§‰∏™Áªü‰∏ÄÁß∞‰∏∫ËØªÂÜôÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ReentrantReadWriteLock</span><span class="p">.</span><span class="na">ReadLock</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ReentrantReadWriteLock</span><span class="p">.</span><span class="na">WriteLock</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">lockÊòØÊé•Âè£</span><span class="err">Ôºå</span><span class="n">ReenrantLock</span><span class="err">„ÄÅ</span><span class="n">ReadLock</span><span class="err">„ÄÅ</span><span class="n">WriteLock‰∏â‰∏™ÊòØlockÊé•Âè£ÁöÑÂÆûÁé∞Á±ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ReentrantReadWriteLockÂÆûÁé∞ÁöÑÊòØReadWriteLock</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108011015584.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108011015584"
	
	
></p>
<h3 id="reentrantlockÂèØÈáçÂÖ•ÈîÅ">ReentrantLockÂèØÈáçÂÖ•ÈîÅ
</h3><p><code>ReentrantLock</code>ÊòØÂèØÈáçÂÖ•ÁöÑ‰∫íÊñ•ÈîÅÔºåËôΩÁÑ∂ÂÖ∑Êúâ‰∏é<code>synchronized</code>Áõ∏ÂêåÂäüËÉΩÔºå‰ΩÜÊòØ‰ºöÊØî<code>synchronized</code>ÊúâÊõ¥Â§öÁöÑÊñπÊ≥ïÔºåÂõ†Ê≠§Êõ¥Âä†ÁÅµÊ¥ª„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‰∫íÊñ•ÈîÅÔºöÁã¨Âç†ÈîÅ„ÄÅÊÇ≤ËßÇÈîÅ   
</span></span><span class="line"><span class="cl">aÁ∫øÁ®ãÂØπ‰∏Ä‰∏™ËµÑÊ∫êÂä†‰∫Ü‰∏ÄÊääÈîÅÔºåbÁ∫øÁ®ãÂ∞±Êó†Ê≥ïÁªôËøô‰∏™ËµÑÊ∫êÂä†ÈîÅ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÈîÅÂèØÈáçÂÖ•Ôºö
</span></span><span class="line"><span class="cl">Â§ñÂ±Ç‰ª£Á†ÅÂùóÂíåÂÜÖÂ±Ç‰ª£Á†ÅÂùóÁî®Âêå‰∏ÄÊääÈîÅ
</span></span><span class="line"><span class="cl">Â§ñÂ±ÇÊä¢Âà∞ÈîÅÂêé‰∏çÈúÄË¶Å ÈáäÊîæÈîÅÂÜçÊä¢ÂÜÖÈÉ®ÈîÅ
</span></span><span class="line"><span class="cl">Áõ¥Êé•ÂèØ‰ª•Ëøõ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ReentrantLockÂíåsynchronizedÈÉΩÂÖ∑ÊúâÂèØÈáçÂÖ•ÊÄß
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‰ΩøÁî®Ôºö 
</span></span><span class="line"><span class="cl">ReentrantLock lock = new ReentrantLock();
</span></span><span class="line"><span class="cl">ÂÜçÔºölock.lock();
</span></span><span class="line"><span class="cl">ÊâßË°åÂÆåÂêé
</span></span><span class="line"><span class="cl">lock.unlock();
</span></span><span class="line"><span class="cl">‰∏∫‰∫ÜÈÅøÂÖç‰ª£Á†ÅÂá∫ÈóÆÈ¢òÔºåËøô‰∏™ÊñπÊ≥ïÊúÄÂ•ΩÊîæÂà∞finally(try,catch,finally)Èáå
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Ticket</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//  ÂÆö‰πâ‰∏Ä‰∏™Á•®Êï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//  ÂÆö‰πâ‰∏Ä‰∏™ÂçñÁ•®ÁöÑÊñπÊ≥ï:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sale</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lock</span><span class="p">.</span><span class="na">lock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//  Âà§Êñ≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="o">&lt;=</span><span class="n">0</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;Á•®Â∑≤ÂîÆÁΩÑÔºÅ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">lock</span><span class="p">.</span><span class="na">unlock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;return&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÂºÄÂßã‰π∞Á•®ÔºåÂΩìÂâçÁ•®Êï∞Ôºö&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">200</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;‰π∞Á•®ÁªìÊùüÔºåÂâ©‰ΩôÁ•®Êï∞Ôºö&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">--</span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;finally&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">lock</span><span class="p">.</span><span class="na">unlock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂÖ¨Âπ≥ÈîÅ">ÂÖ¨Âπ≥ÈîÅ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">ReentrantLockÂèØ‰ª•ÂÆûÁé∞ÂÖ¨Âπ≥ÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÂÖ¨Âπ≥ÈîÅ</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">‰πüÂ∞±ÊòØÂú®ÈîÅ‰∏äÁ≠âÂæÖÊó∂Èó¥ÊúÄÈïøÁöÑÁ∫øÁ®ã‰ºòÂÖàËé∑ÂæóÈîÅÁöÑ‰ΩøÁî®ÊùÉ</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">ÈÄö‰øóÁöÑÁêÜËß£Â∞±ÊòØË∞ÅÊéíÈòüÊó∂Èó¥ÊúÄÈïøË∞ÅÂÖàËé∑ÂèñÈîÅ</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="err">Ôºà</span><span class="n">ÂÖ¨Âπ≥ÈîÅ‰∏çÂÖÅËÆ∏ÊèíÈòü</span><span class="err">Ôºå</span><span class="n">ÈùûÂÖ¨Âπ≥ÈîÅÂÖÅËÆ∏ÊèíÈòü</span><span class="err">Ôºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">ÂÆûÁé∞</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="kd">private</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÈôêÊó∂Á≠âÂæÖ">ÈôêÊó∂Á≠âÂæÖ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÈÄöËøáÊàë‰ª¨ÁöÑlock.tryLock()ÊñπÊ≥ïÊù•ÂÆûÁé∞ 
</span></span><span class="line"><span class="cl">synchronized‰∏çÂÖ∑ÊúâÈôêÊó∂Á≠âÂæÖÁöÑÂäüËÉΩ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÊúâÂèÇË°®Á§∫Á≠âÂæÖÊåáÂÆöÁöÑÊó∂Èó¥
</span></span><span class="line"><span class="cl">Êó†ÂèÇÂàôË°®Á§∫Á´ãÂç≥ËøîÂõûÈîÅÁî≥ËØ∑ÁöÑÁªìÊûú
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">trueË°®Á§∫Ëé∑ÂèñÈîÅÊàêÂäüÔºåfalseË°®Á§∫Ëé∑ÂèñÈîÅÂ§±Ë¥•„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ËøôÁßçÊñπÊ≥ïÂèØ‰ª•Áî®Êù•Ëß£ÂÜ≥Ê≠ªÈîÅÈóÆÈ¢ò„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Ê≠ªÈîÅÔºö
</span></span><span class="line"><span class="cl">‰∏§‰∏™Á∫øÁ®ã‰∫íÁõ∏Êä¢Ë¢´ÂØπÊñπÊãøÂà∞ÁöÑÈîÅÔºåÈÉΩ‰∏çÈáäÊîæÈîÅÔºåÂ∞±Âá∫Áé∞‰∫ÜÊ≠ªÈîÅ
</span></span><span class="line"><span class="cl">tryLock ËÉΩÊãøÂà∞ÈîÅÂ∞±Âπ≤ÔºåÊãø‰∏çÂà∞Â∞±‰∏çÂπ≤‰∫Ü
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="reentrantlockÂíåsynchronizedÂå∫Âà´">ReentrantLockÂíåsynchronizedÂå∫Âà´
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1.‰∏§‰∏™ÈÉΩÊòØÁã¨Âç†ÈîÅÔºå
</span></span><span class="line"><span class="cl">‰ΩÜÊòØsynchronizedÂä†ÈîÅËß£ÈîÅÊòØËá™Âä® Êòì‰∫éÊìç‰ΩúÔºå‰∏çÁÅµÊ¥ª
</span></span><span class="line"><span class="cl">ReentarantLockÂä†ÈîÅËß£ÈîÅÈúÄË¶ÅÊâãÂä® ‰∏çÊòì‰∫éÊìç‰ΩúÔºå‰ΩÜÁÅµÊ¥ª
</span></span><span class="line"><span class="cl">2.‰∏§‰∏™ÈÉΩÊòØÂèØÈáçÂÖ•
</span></span><span class="line"><span class="cl">‰ΩÜÂõ†‰∏∫synchronizedÂä†ÈîÅËß£ÈîÅÊòØËá™Âä®Ôºå‰∏çÊãÖÂøÉÊúÄÂêéÊòØÂê¶ÈáäÊîæÈîÅ
</span></span><span class="line"><span class="cl">ReentarantLockÂä†ÈîÅËß£ÈîÅÈúÄË¶ÅÊâãÂä®Ôºå‰∏îÂä†ÈîÅ‰∏ÄÊ¨°Â∞±ÈúÄË¶ÅËß£ÈîÅÔºåÂê¶ÂàôÂÖ∂‰ªñÁ∫øÁ®ãÊó†Ê≥ïËé∑ÂæóÈîÅ
</span></span><span class="line"><span class="cl">3.synchronized‰∏çÂèØÂìçÂ∫î‰∏≠Êñ≠Ôºå‰∏Ä‰∏™Á∫øÁ®ãËé∑Âèñ‰∏çÂà∞ÈîÅÂ∞±‰∏ÄÁõ¥Á≠âÁùÄ
</span></span><span class="line"><span class="cl">  ReentrantLockÂèØ‰ª•ÂìçÂ∫î‰∏≠Êñ≠ÔºàtryLockÊñπÊ≥ïÔºöËé∑Âèñ‰∏çÂà∞ÈîÅÂàôËøîÂõûfalseÔºâ
</span></span><span class="line"><span class="cl">4.  synchronized‰∏çÂÖ∑Â§áËÆæÁΩÆÂÖ¨Âπ≥ÈîÅÁöÑÁâπÁÇπÔºåReentrantLockÂèØ‰ª•Êàê‰∏∫ÂÖ¨Âπ≥ÈîÅ„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="reentrantreadwritelockËØªÂÜôÈîÅ">ReentrantReadWriteLockËØªÂÜôÈîÅ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ËØªÂÜôÈîÅÂÖÅËÆ∏Âêå‰∏ÄÊó∂ÂàªË¢´Â§ö‰∏™ËØªÁ∫øÁ®ãËÆøÈóÆÔºå‰ΩÜÊòØÂú®ÂÜôÁ∫øÁ®ãËÆøÈóÆÊó∂ÔºåÊâÄÊúâÁöÑËØªÁ∫øÁ®ãÂíåÂÖ∂‰ªñÁöÑÂÜôÁ∫øÁ®ãÈÉΩ‰ºöË¢´ÈòªÂ°û„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÊïÖÔºö‰∏ÄËà¨Áî®‰∫éÂ§öËØªÂÜôÂ∞ëÊÉÖÂÜµ
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁâπÁÇπÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1. ÂÜôÂÜô‰∏çÂèØÂπ∂Âèë   
</span></span><span class="line"><span class="cl">‰∏§‰∏™Á∫øÁ®ãÈÉΩÊãøÂà∞ÂÜôÈîÅÔºå‰∏Ä‰∏™ÂÜôÁöÑÊó∂ÂÄôÂè¶‰∏Ä‰∏™‰∏çËÉΩÂÜô
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. ËØªÂÜô‰∏çÂèØÂπ∂Âèë/ÂÜôËØª‰∏çÂèØÂπ∂Âèë
</span></span><span class="line"><span class="cl"> ‰∏Ä‰∏™ËØªÊó∂Âè¶‰∏Ä‰∏™ÂÜô‰∏ç‰∫ÜÔºå‰∏Ä‰∏™ÂÜôÊó∂Âè¶‰∏Ä‰∏™‰πüËØª‰∏ç‰∫Ü
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">3. ËØªËØªÂèØ‰ª•Âπ∂Âèë
</span></span><span class="line"><span class="cl">‰∏§‰∏™Á∫øÁ®ãÈÉΩÊãøÂà∞ËØªÈîÅÔºå‰∏§‰∏™Á∫øÁ®ãÈÉΩËÉΩËØª
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ËØªÂÜôÈîÅ‰øùËØÅ‰∫ÜÂÜôÊìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºåÂπ∂‰∏îÂèØ‰ª•ËøõË°åÂπ∂ÂèëËØª
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÈîÅÈôçÁ∫ß">ÈîÅÈôçÁ∫ß
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Âú®ÂΩìÂâçÁ∫øÁ®ãÊã•ÊúâÂÜôÈîÅÁöÑÊÉÖÂÜµ‰∏ãÔºåËé∑ÂèñÂà∞ËØªÈîÅÔºåÈöèÂêéÈáäÊîæÂÜôÈîÅÁöÑËøáÁ®ãÂ∞±ÊòØÈîÅÈôçÁ∫ß„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">‰∏∫‰∫ÜÂáèÂ∞ëÈîÅÁöÑÁ´û‰∫âÔºåÊèêÈ´òÁ®ãÂ∫èÁöÑÂπ∂ÂèëÊÄßËÉΩ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÈîÅÈôçÁ∫ßÁöÑÂÖ∏ÂûãÂú∫ÊôØÊòØÂú®ÊåÅÊúâÊüê‰∏™ÂÜôÈîÅÊó∂ÔºåÈáäÊîæÂÜôÈîÅÂπ∂Ëé∑ÂèñËØªÈîÅ„ÄÇËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§ÑÊòØÂú®ÊâßË°åËØªÊìç‰ΩúÊúüÈó¥ÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂèØ‰ª•ÂêåÊó∂ÊâßË°åËØªÊìç‰ΩúÔºåÊèêÈ´ò‰∫ÜÂπ∂ÂèëÊÄßËÉΩ„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ËØªÂÜôÈîÅÊÄªÁªì">ËØªÂÜôÈîÅÊÄªÁªì
</h3><ol>
<li>
<p>ÊîØÊåÅÂÖ¨Âπ≥/ÈùûÂÖ¨Âπ≥Á≠ñÁï•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÊîØÊåÅÂÖ¨Âπ≥ÈîÅÂíåÈùûÂÖ¨Âπ≥ÈîÅÂàáÊç¢
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="D:/BJ240923Java%28%e9%98%b3%e5%93%a5%e5%bc%9f%e5%ad%90%e7%8f%ad%29/%e8%af%be%e4%bb%b6/02_JUC/01_%e8%af%be%e4%bb%b6/assets/1615100164370.png"
	
	
	
	loading="lazy"
	
		alt="1615100164370"
	
	
></p>
</li>
<li>
<p>ÊîØÊåÅÂèØÈáçÂÖ•</p>
<ul>
<li>Âêå‰∏ÄËØªÁ∫øÁ®ãÂú®Ëé∑Âèñ‰∫ÜËØªÈîÅÂêéËøòÂèØ‰ª•Ëé∑ÂèñËØªÈîÅ</li>
<li>Âêå‰∏ÄÂÜôÁ∫øÁ®ãÂú®Ëé∑Âèñ‰∫ÜÂÜôÈîÅ‰πãÂêéÊó¢ÂèØ‰ª•ÂÜçÊ¨°Ëé∑ÂèñÂÜôÈîÅÂèàÂèØ‰ª•Ëé∑ÂèñËØªÈîÅ</li>
<li>Âêå‰∏ÄËØªÁ∫øÁ®ãÂú®Ëé∑Âèñ‰∫ÜËØªÈîÅÂêé<strong>‰∏çÂèØ‰ª•</strong>Ëé∑ÂèñÂÜôÈîÅ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÂèØÈáçÂÖ•ÊÄßÈÉΩÊòØÈíàÂØπÂêå‰∏ÄÁ∫øÁ®ãËÄåË®Ä
</span></span><span class="line"><span class="cl">ËØªÈîÅËØªÈîÅÂèØ‰ª•
</span></span><span class="line"><span class="cl">ÂÜôÈîÅÂÜôÈîÅÂèØ‰ª•
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ËØªÈîÅÂÜôÈîÅ‰∏çÂèØ‰ª•
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÊîØÊåÅÈîÅÈôçÁ∫ßÔºå‰∏çÊîØÊåÅÈîÅÂçáÁ∫ß</p>
</li>
<li>
<p>ËØªÂÜôÈîÅÂ¶ÇÊûú‰ΩøÁî®‰∏çÂΩìÔºåÂæàÂÆπÊòì‰∫ßÁîü‚ÄúÈ••È•ø‚ÄùÈóÆÈ¢òÔºö</p>
<p>Âú®ËØªÁ∫øÁ®ãÈùûÂ∏∏Â§öÔºåÂÜôÁ∫øÁ®ãÂæàÂ∞ëÁöÑÊÉÖÂÜµ‰∏ãÔºåÂæàÂÆπÊòìÂØºËá¥ÂÜôÁ∫øÁ®ã‚ÄúÈ••È•ø‚ÄùÔºåËôΩÁÑ∂‰ΩøÁî®‚ÄúÂÖ¨Âπ≥‚ÄùÁ≠ñÁï•ÂèØ‰ª•‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÁºìËß£Ëøô‰∏™ÈóÆÈ¢òÔºå‰ΩÜÊòØ‚ÄúÂÖ¨Âπ≥‚ÄùÁ≠ñÁï•ÊòØ‰ª•Áâ∫Áâ≤Á≥ªÁªüÂêûÂêêÈáè‰∏∫‰ª£‰ª∑ÁöÑ„ÄÇ</p>
</li>
</ol>
<blockquote>
<p>ÈîÅÈ••È•øÔºàLock StarvationÔºâÊòØÊåáÂú®Â§öÁ∫øÁ®ãÁºñÁ®ã‰∏≠ÁöÑ‰∏ÄÁßçÊÉÖÂÜµÔºåÂÖ∂‰∏≠Êüê‰∫õÁ∫øÁ®ãÂèØËÉΩÊó†Ê≥ïËé∑ÂæóÊâÄÈúÄÁöÑÈîÅÔºåËÄå‰∏ÄÁõ¥Á≠âÂæÖ‰∏ãÂéªÔºå‰ªéËÄåÊó†Ê≥ïÁªßÁª≠ÊâßË°åÔºåÂç≥Á∫øÁ®ãË¢´&quot;È•øÊ≠ª&quot;Âú®Á≠âÂæÖÈîÅÁöÑËøáÁ®ã‰∏≠„ÄÇËøôÂèØËÉΩ‰ºöÂØºËá¥Â∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÈóÆÈ¢òÂíå‰∏çÁ®≥ÂÆöÊÄß„ÄÇ</p>
</blockquote>
<h2 id="Á∫øÁ®ãÈó¥ÈÄö‰ø°">Á∫øÁ®ãÈó¥ÈÄö‰ø°
</h2><p>Èù¢ËØïÈ¢òÊ°à‰æã</p>
<p>‰∏§‰∏™Á∫øÁ®ãÔºå‰∏Ä‰∏™Á∫øÁ®ãÊâìÂç∞1-52ÔºåÂè¶‰∏Ä‰∏™ÈÉΩË¶ÅÂºÑÂ≠óÊØçA-ZÔºåÊâìÂç∞È°∫Â∫è‰∏∫12A34B&hellip;5152ZÔºåË¶ÅÊ±ÇÁî®Á∫øÁ®ãÈó¥ÈÄö‰ø°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div><p><strong>Á∫øÁ®ãÈó¥ÈÄö‰ø°Ê®°Âûã</strong></p>
<ol>
<li>Áîü‰∫ßËÄÖ+Ê∂àË¥πËÄÖ</li>
<li>ÈÄöÁü•Á≠âÂæÖÂî§ÈÜíÊú∫Âà∂</li>
</ol>
<h3 id="Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°Êùø‰∏≠">Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°Êùø(‰∏≠)
</h3><p>1.Âà§Êñ≠</p>
<p>2.Âπ≤Ê¥ª</p>
<p>3.ÈÄöÁü•</p>
<p>‰∏§‰∏™Á∫øÁ®ãÊìç‰Ωú‰∏Ä‰∏™ÂàùÂßãÂÄº‰∏∫0ÁöÑÂèòÈáèÔºåÂÆûÁé∞‰∏Ä‰∏™Á∫øÁ®ãÂØπÂèòÈáèÂ¢ûÂä†1Ôºå‰∏Ä‰∏™Á∫øÁ®ãÂØπÂèòÈáèÂáèÂ∞ë1Ôºå‰∫§Êõø10ËΩÆ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.atguigu.demojuc.chap03</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">ShareDataOne</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *  Â¢ûÂä†1
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">synchronized</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">increment</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 1. Âà§Êñ≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">wait</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 2. Âπ≤Ê¥ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">number</span><span class="o">++</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 3. ÈÄöÁü•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">notifyAll</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÂáèÂ∞ë1
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">synchronized</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">decrement</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 1. Âà§Êñ≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">wait</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 2. Âπ≤Ê¥ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">number</span><span class="o">--</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 3. ÈÄöÁü•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">notifyAll</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Áé∞Âú®‰∏§‰∏™Á∫øÁ®ãÔºå
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ÂèØ‰ª•Êìç‰ΩúÂàùÂßãÂÄº‰∏∫Èõ∂ÁöÑ‰∏Ä‰∏™ÂèòÈáèÔºå
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ÂÆûÁé∞‰∏Ä‰∏™Á∫øÁ®ãÂØπËØ•ÂèòÈáèÂä†1Ôºå‰∏Ä‰∏™Á∫øÁ®ãÂØπËØ•ÂèòÈáèÂáè1Ôºå
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ‰∫§ÊõøÔºå10ËΩÆ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm"> *
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Á¨îËÆ∞ÔºöJavaÈáåÈù¢Â¶Ç‰ΩïËøõË°åÂ∑•Á®ãÁ∫ßÂà´ÁöÑÂ§öÁ∫øÁ®ãÁºñÂÜô
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 1 Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°ÊùøÔºàÂ•óË∑ØÔºâ
</span></span></span><span class="line"><span class="cl"><span class="cm"> *    1.1  Á∫øÁ®ã    Êìç‰Ωú    ËµÑÊ∫êÁ±ª
</span></span></span><span class="line"><span class="cl"><span class="cm"> *    1.2  È´òÂÜÖËÅö  ‰ΩéËÄ¶Âêà
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 2 Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°ÊùøÔºàÂ•óË∑ØÔºâ
</span></span></span><span class="line"><span class="cl"><span class="cm"> *    2.1  Âà§Êñ≠
</span></span></span><span class="line"><span class="cl"><span class="cm"> *    2.2  Âπ≤Ê¥ª
</span></span></span><span class="line"><span class="cl"><span class="cm"> *    2.3  ÈÄöÁü•
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">NotifyWaitDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ShareDataOne</span><span class="w"> </span><span class="n">shareDataOne</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ShareDataOne</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">shareDataOne</span><span class="p">.</span><span class="na">increment</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;AAA&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">shareDataOne</span><span class="p">.</span><span class="na">decrement</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;BBB&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÈÉ®ÂàÜÊâìÂç∞ÁªìÊûúÔºöAAAÂíåBBB‰∫§‰∫íÊâßË°åÔºåÊâßË°åÁªìÊûúÊòØ1 0 1 0&hellip; ‰∏ÄÂÖ±10ËΩÆ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">AAA: 1
</span></span><span class="line"><span class="cl">BBB: 0
</span></span><span class="line"><span class="cl">AAA: 1
</span></span><span class="line"><span class="cl">BBB: 0
</span></span><span class="line"><span class="cl">AAA: 1
</span></span><span class="line"><span class="cl">BBB: 0
</span></span><span class="line"><span class="cl">AAA: 1
</span></span><span class="line"><span class="cl">BBB: 0
</span></span><span class="line"><span class="cl">„ÄÇ„ÄÇ„ÄÇ„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ËôöÂÅáÂî§ÈÜí">ËôöÂÅáÂî§ÈÜí
</h3><p>Êç¢Êàê4‰∏™Á∫øÁ®ã‰ºöÂØºËá¥ÈîôËØØÔºå<strong>ËôöÂÅáÂî§ÈÜí</strong></p>
<p>**ÂéüÂõ†Ôºö**Âú®javaÂ§öÁ∫øÁ®ãÂà§Êñ≠Êó∂Ôºå‰∏çËÉΩÁî®ifÔºåÁ®ãÂ∫èÂá∫‰∫ãÂá∫Âú®‰∫ÜÂà§Êñ≠‰∏äÈù¢„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ËøõË°åwait()Êó∂Âà§Êñ≠Êù°‰ª∂‰ΩøÁî®if‰∫ÜÔºåÂØºËá¥ËôöÂÅáÂî§ÈÜí
</span></span></code></pre></td></tr></table>
</div>
</div><p>**Ê≥®ÊÑèÔºö**Ê∂àË¥πËÄÖË¢´Âî§ÈÜíÂêéÊòØ‰ªéwait()ÊñπÊ≥ïÔºàË¢´ÈòªÂ°ûÁöÑÂú∞ÊñπÔºâÂêéÈù¢ÊâßË°åÔºåËÄå‰∏çÊòØÈáçÊñ∞‰ªéÂêåÊ≠•ÂùóÂºÄÂ§¥„ÄÇ</p>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108204207737.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108204207737"
	
	
></p>
<p>Ëß£ÂÜ≥ËôöÂÅáÂî§ÈÜíÔºöÊü•ÁúãAPIÔºåjava.lang.ObjectÁöÑwaitÊñπÊ≥ï</p>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108204356946.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108204356946"
	
	
></p>
<p>‰∏≠Êñ≠ÂíåËôöÂÅáÂî§ÈÜíÊòØÂèØËÉΩ‰∫ßÁîüÁöÑÔºåÊâÄ‰ª•Ë¶ÅÁî®Âæ™ÁéØÔºåifÂè™Âà§Êñ≠‰∏ÄÊ¨°ÔºåwhileÊòØÂè™Ë¶ÅÂî§ÈÜíÂ∞±Ë¶ÅÈáçÊñ∞ÂÜçÂà§Êñ≠‰∏ÄÊ¨°„ÄÇ</p>
<p><strong>Â§öÁ∫øÁ®ãÁºñÁ®ãÊ®°ÊùøÔºà‰∏ãÔºâÔºö</strong></p>
<p>Èò≤Ê≠¢ËôöÂÅáÂî§ÈÜíÔºà‰ΩøÁî®whileÔºå‰ª£ÊõøifÔºâ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 1. Âà§Êñ≠
</span></span><span class="line"><span class="cl">while (number != 0) {
</span></span><span class="line"><span class="cl">    this.wait();
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 1. Âà§Êñ≠
</span></span><span class="line"><span class="cl">while (number != 1) {
</span></span><span class="line"><span class="cl">    this.wait();
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Á∫øÁ®ãÈÄö‰ø°condition">Á∫øÁ®ãÈÄö‰ø°ÔºàConditionÔºâ
</h3><p>Á∫øÁ®ãÈó¥ÈÄö‰ø°Êúâ‰∏§Â•ó‰ª£Á†ÅÂºÄÂèëÊñπÂºè</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1.wait+notify/notifyall+synchronized
</span></span><span class="line"><span class="cl">wait+notify/notifyallÂøÖÈ°ªÂú®ÊúâÈîÅÁöÑÁéØÂ¢É‰∏ã‰ΩøÁî®ÔºåÊâÄ‰ª•ÂøÖÈ°ªË∑üsynchronizedÁªìÂêàÂÅöÂºÄÂèë
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Â¶ÇÊûú‰ΩøÁî®JUC‰∏≠ÁöÑlockÈîÅÔºå
</span></span><span class="line"><span class="cl">ÈÄöËøáConditionÊù•ÂÆûÁé∞ÈÄöÁü•Âî§ÈÜí(‰ª£Êõøwait+notify/notifyall)
</span></span><span class="line"><span class="cl">2.lock+condition
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108205706976.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108205706976"
	
	
></p>
<p>‰∏äÈù¢Ê°à‰æãÂè™ÈúÄË¶ÅÊîπÂä®ShareDataOne</p>
<p>Âπ∂ÂéªÊéâ increment Âíå decrement ÊñπÊ≥ïÁöÑsynchronized</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">ShareDataOne</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">Lock</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="p">();</span><span class="w"> </span><span class="c1">// ÂàùÂßãÂåñlockÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">Condition</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lock</span><span class="p">.</span><span class="na">newCondition</span><span class="p">();</span><span class="w"> </span><span class="c1">// ÂàùÂßãÂåñconditionÂØπË±°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *  Â¢ûÂä†1
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">increment</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lock</span><span class="p">.</span><span class="na">lock</span><span class="p">();</span><span class="w"> </span><span class="c1">// Âä†ÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 1. Âà§Êñ≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// this.wait();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">condition</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 2. Âπ≤Ê¥ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">number</span><span class="o">++</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 3. ÈÄöÁü•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// this.notifyAll();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">condition</span><span class="p">.</span><span class="na">signalAll</span><span class="p">();</span><span class="w"> </span><span class="c1">//Âî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁöÑÁ∫øÁ®ã</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">lock</span><span class="p">.</span><span class="na">unlock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÂáèÂ∞ë1
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">decrement</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lock</span><span class="p">.</span><span class="na">lock</span><span class="p">();</span><span class="w"> </span><span class="c1">// Âä†ÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 1. Âà§Êñ≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// this.wait();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">condition</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 2. Âπ≤Ê¥ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">number</span><span class="o">--</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 3. ÈÄöÁü•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// this.notifyAll();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">condition</span><span class="p">.</span><span class="na">signalAll</span><span class="p">();</span><span class="w"> </span><span class="c1">//Âî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁöÑÁ∫øÁ®ã</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">lock</span><span class="p">.</span><span class="na">unlock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">condition</span><span class="p">.</span><span class="na">signal</span><span class="p">();</span><span class="w"> </span><span class="c1">// Âî§ÈÜí‰∏Ä‰∏™Á≠âÂæÖÁöÑÁ∫øÁ®ã    </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">condition</span><span class="p">.</span><span class="na">signalAll</span><span class="p">();</span><span class="w">  </span><span class="c1">//Âî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁöÑÁ∫øÁ®ã</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂÆöÂà∂ÂåñË∞ÉÁî®ÈÄö‰ø°">ÂÆöÂà∂ÂåñË∞ÉÁî®ÈÄö‰ø°
</h3><p>Á∫øÁ®ãÈó¥ÊåâÈ°∫Â∫èÈÄö‰ø°</p>
<p>Èù¢ËØïÈ¢ò</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â§öÁ∫øÁ®ã‰πãÈó¥ÊåâÈ°∫Â∫èË∞ÉÁî®ÔºåÂÆûÁé∞AA-&gt;BB-&gt;CC„ÄÇ‰∏â‰∏™Á∫øÁ®ãÂêØÂä®ÔºåË¶ÅÊ±ÇÂ¶Ç‰∏ãÔºö
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		AAÊâìÂç∞5Ê¨°ÔºåBBÊâìÂç∞10Ê¨°ÔºåCCÊâìÂç∞15Ê¨°
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		Êé•ÁùÄ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		AAÊâìÂç∞5Ê¨°ÔºåBBÊâìÂç∞10Ê¨°ÔºåCCÊâìÂç∞15Ê¨°
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		„ÄÇ„ÄÇ„ÄÇÊâìÂç∞10ËΩÆ
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÂàÜÊûêÂÆûÁé∞ÊñπÂºèÔºö
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">1. Êúâ‰∏Ä‰∏™ÈîÅLockÔºå3ÊääÈí•ÂåôConditionÔºàaÂÆå‰∫ÜÂî§ÈÜíbÔºåbÂÆå‰∫ÜÂî§ÈÜícÔºâ
</span></span><span class="line"><span class="cl">2. ÊúâÈ°∫Â∫èÈÄöÁü•ÔºàÂàáÊç¢Á∫øÁ®ãÔºâÔºåÈúÄË¶ÅÊúâÊ†áËØÜ‰Ωç
</span></span><span class="line"><span class="cl">3. Âà§Êñ≠Ê†áÂøó‰Ωç
</span></span><span class="line"><span class="cl">4. ËæìÂá∫Á∫øÁ®ãÂêç + ÂÜÖÂÆπ
</span></span><span class="line"><span class="cl">5. ‰øÆÊîπÊ†áËØÜÁ¨¶ÔºåÈÄöÁü•‰∏ã‰∏Ä‰∏™
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.atguigu.juc.chap03</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.locks.Condition</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.locks.Lock</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.locks.ReentrantLock</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ThreadOrderAccess</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//Â£∞ÊòéÂÖ®Â±ÄÈîÅÂØπË±°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Lock</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//‰∏∫A,B,CÁ∫øÁ®ãÂ£∞ÊòéConditionÂØπË±°Ë¥üË¥£‰∏çÂêåÁ∫øÁ®ãÁ≠âÂæÖÔºåÂî§ÈÜí</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Condition</span><span class="w"> </span><span class="n">conditionA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lock</span><span class="p">.</span><span class="na">newCondition</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Condition</span><span class="w"> </span><span class="n">conditionB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lock</span><span class="p">.</span><span class="na">newCondition</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Condition</span><span class="w"> </span><span class="n">conditionC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lock</span><span class="p">.</span><span class="na">newCondition</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//Â£∞ÊòéÂÖ®Â±ÄflagÊ†áËØÜÔºå‰Ωú‰∏∫Á∫øÁ®ãÈòªÂ°ûÔºåÊâßË°åÊù°‰ª∂</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * AÁ∫øÁ®ãË¥üË¥£Ë∞ÉÁî®ÊâìÂç∞5Ê¨°ÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">print5</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1.ÂÖàËé∑ÂèñÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lock</span><span class="p">.</span><span class="na">lock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//2.Âà§Êñ≠AÁ∫øÁ®ãÁ≠âÂæÖÊù°‰ª∂Ôºà‰∏çÁ≠â‰∫é1Â∞ÜÂΩìÂâçÁ∫øÁ®ãËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">conditionA</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//3.Âπ≤Ê¥ªÔºàflag=1ÂàôÊâìÂç∞5Ê¨°ÊâßË°åÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">5</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;,&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//4.Â∞ÜflagÊ†áËØÜ‰øÆÊîπ‰∏∫2ÔºåÂî§ÈÜíBÁ∫øÁ®ãÂπ≤Ê¥ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">conditionB</span><span class="p">.</span><span class="na">signalAll</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//5.Â∞ÜÈîÅÈáäÊîæ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">lock</span><span class="p">.</span><span class="na">unlock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * BÁ∫øÁ®ãË¥üË¥£Ë∞ÉÁî®ÊâìÂç∞10Ê¨°ÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">print10</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1.ÂÖàËé∑ÂèñÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lock</span><span class="p">.</span><span class="na">lock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//2.Âà§Êñ≠BÁ∫øÁ®ãÁ≠âÂæÖÊù°‰ª∂Ôºà‰∏çÁ≠â‰∫é2Â∞ÜÂΩìÂâçÁ∫øÁ®ãËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">conditionB</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//3.Âπ≤Ê¥ªÔºàflag=2ÂàôÊâìÂç∞10Ê¨°ÊâßË°åÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;,&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//4.Â∞ÜflagÊ†áËØÜ‰øÆÊîπ‰∏∫3ÔºåÂî§ÈÜíCÁ∫øÁ®ãÂπ≤Ê¥ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">3</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">conditionC</span><span class="p">.</span><span class="na">signalAll</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//5.Â∞ÜÈîÅÈáäÊîæ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">lock</span><span class="p">.</span><span class="na">unlock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * CÁ∫øÁ®ãË¥üË¥£Ë∞ÉÁî®ÊâìÂç∞15Ê¨°ÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">print15</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1.ÂÖàËé∑ÂèñÈîÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lock</span><span class="p">.</span><span class="na">lock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//2.Âà§Êñ≠CÁ∫øÁ®ãÁ≠âÂæÖÊù°‰ª∂Ôºà‰∏çÁ≠â‰∫é3Â∞ÜÂΩìÂâçÁ∫øÁ®ãËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">conditionC</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//3.Âπ≤Ê¥ªÔºàflag=3ÂàôÊâìÂç∞15Ê¨°ÊâßË°åÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">15</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;,&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//4.Â∞ÜflagÊ†áËØÜ‰øÆÊîπ‰∏∫1ÔºåÂî§ÈÜíAÁ∫øÁ®ãÂπ≤Ê¥ª</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">conditionA</span><span class="p">.</span><span class="na">signalAll</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//5.Â∞ÜÈîÅÈáäÊîæ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">lock</span><span class="p">.</span><span class="na">unlock</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//2.ÂàõÂª∫ËµÑÊ∫êÁ±ªÂØπË±°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ThreadOrderAccess</span><span class="w"> </span><span class="n">orderAccess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ThreadOrderAccess</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1.ÂàõÂª∫‰∏â‰∏™Á∫øÁ®ãA,B,C</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">orderAccess</span><span class="p">.</span><span class="na">print5</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;A&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">orderAccess</span><span class="p">.</span><span class="na">print10</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;B&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">orderAccess</span><span class="p">.</span><span class="na">print15</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;C&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Âú®Java‰∏≠Ôºå‰∏Ä‰∏™ReentrantLockÂèØ‰ª•‰∏éÂ§ö‰∏™ConditionÂØπË±°‰∏ÄËµ∑‰ΩøÁî®
</span></span><span class="line"><span class="cl">ÊØè‰∏™ConditionÂØπË±°ÂèØ‰ª•Áî®‰∫é‰∏çÂêåÁöÑÁ∫øÁ®ãÂçèË∞ÉÂíåÈÄö‰ø°Âú∫ÊôØ
</span></span><span class="line"><span class="cl">‰ª•‰æøÊõ¥Á≤æÁªÜÂú∞ÊéßÂà∂Â§öÁ∫øÁ®ã‰πãÈó¥ÁöÑÊâßË°åÈ°∫Â∫èÂíå‰∫íÊñ•ËÆøÈóÆ„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="Âπ∂ÂèëÂÆπÂô®Á±ª">Âπ∂ÂèëÂÆπÂô®Á±ª
</h2><p><strong>VectorÂíåSynchronizedÁöÑÁº∫ÁÇπÔºö</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="o">-</span><span class="w"> </span><span class="n">Vector</span><span class="err">Ôºö</span><span class="n">ÂÜÖÂ≠òÊ∂àËÄóÊØîËæÉÂ§ß</span><span class="err">Ôºå</span><span class="n">ÈÄÇÂêà‰∏ÄÊ¨°Â¢ûÈáèÊØîËæÉÂ§ßÁöÑÊÉÖÂÜµ</span><span class="err">Ôºà</span><span class="n">VectorÊØèÊ¨°Êâ©ÂÆπÊòØÂéüÊù•ÂÆπÈáèÁöÑ‰∏ÄÂÄç</span><span class="err">Ôºå</span><span class="n">ArrayListÊòØÂéüÊù•ÁöÑ1</span><span class="p">.</span><span class="na">5ÂÄç</span><span class="err">Ôºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//VectorÔºöËØªÂèñÂä†ÈîÅÔºÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="n">SynchronizedList</span><span class="err">Ôºö</span><span class="n">Ëø≠‰ª£Âô®Ê∂âÂèäÁöÑ‰ª£Á†ÅÊ≤°ÊúâÂä†‰∏äÁ∫øÁ®ãÂêåÊ≠•‰ª£Á†Å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//synchronizedListÔºö ËØªÂèñÊï∞ÊçÆÔºöËØªÂèñÊï∞ÊçÆÊ≤°ÊúâÂä†ÈîÅÔºÅ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="copyonwrite"><strong>CopyOnWrite</strong>
</h3><h4 id="‰ªÄ‰πàÊòØcopyonwriteÂÆπÂô®">‰ªÄ‰πàÊòØCopyOnWriteÂÆπÂô®
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">CopyOnWriteÂÆπÂô®ÔºàÁÆÄÁß∞COWÂÆπÂô®ÔºâÂç≥ÂÜôÊó∂Â§çÂà∂ÁöÑÂÆπÂô®„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÈÄö‰øóÁöÑÁêÜËß£Ôºö
</span></span><span class="line"><span class="cl">ÂΩìÊàë‰ª¨ÂæÄ‰∏Ä‰∏™ÂÆπÂô®Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºå‰∏çÁõ¥Êé•ÂæÄÂΩìÂâçÂÆπÂô®Ê∑ªÂä†ÔºåËÄåÊòØÂÖàÂ∞ÜÂΩìÂâçÂÆπÂô®ËøõË°åCopyÔºåÂ§çÂà∂Âá∫‰∏Ä‰∏™Êñ∞ÁöÑÂÆπÂô®ÔºåÁÑ∂ÂêéÊñ∞ÁöÑÂÆπÂô®ÈáåÊ∑ªÂä†ÂÖÉÁ¥†ÔºåÊ∑ªÂä†ÂÆåÂÖÉÁ¥†‰πãÂêéÔºåÂÜçÂ∞ÜÂéüÂÆπÂô®ÁöÑÂºïÁî®ÊåáÂêëÊñ∞ÁöÑÂÆπÂô®„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Â•ΩÂ§ÑÔºö
</span></span><span class="line"><span class="cl">ÂèØ‰ª•ÂØπCopyOnWriteÂÆπÂô®ËøõË°åÂπ∂ÂèëÁöÑËØªÔºåËÄå‰∏çÈúÄË¶ÅÂä†ÈîÅ
</span></span><span class="line"><span class="cl">Âõ†‰∏∫ÂΩìÂâçÂÆπÂô®‰∏ç‰ºöÊ∑ªÂä†‰ªª‰ΩïÂÖÉÁ¥†„ÄÇÊâÄ‰ª•CopyOnWriteÂÆπÂô®‰πüÊòØ‰∏ÄÁßçËØªÂÜôÂàÜÁ¶ªÁöÑÊÄùÊÉ≥ÔºåËØªÂíåÂÜô‰∏çÂêåÁöÑÂÆπÂô®„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ËØªÂÜôÂàÜÁ¶ªÔºö
</span></span><span class="line"><span class="cl">ÂÜôÁöÑÊó∂ÂÄô‰∏çÂΩ±ÂìçËØªÔºåËØªÂÜôÊòØÂàÜÂºÄÁöÑ
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">‰ªéJDK1</span><span class="p">.</span><span class="na">5ÂºÄÂßã</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">JavaÂπ∂ÂèëÂåÖÈáåÊèê‰æõ‰∫Ü‰∏§‰∏™‰ΩøÁî®CopyOnWriteÊú∫Âà∂ÂÆûÁé∞ÁöÑÂπ∂ÂèëÂÆπÂô®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">CopyOnWriteArrayList</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ List ÂÆûÁé∞ÔºåÂÆÉÈÄöËøáÂ§çÂà∂Â∫ïÂ±ÇÊï∞ÁªÑÁöÑÊñπÂºè‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåÈÄÇÁî®‰∫éËØªÂ§öÂÜôÂ∞ëÁöÑÂú∫ÊôØ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">CopyOnWriteArraySet</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÊòØCopyOnWriteArrayList ÁöÑ Set ÁâàÊú¨</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Â∫îÁî®Âú∫ÊôØ">Â∫îÁî®Âú∫ÊôØÔºö
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">CopyOnWriteÂπ∂ÂèëÂÆπÂô®Áî®‰∫é ËØªÂ§öÂÜôÂ∞ë ÁöÑÂπ∂ÂèëÂú∫ÊôØÔºöÁôΩÂêçÂçïÔºåÈªëÂêçÂçï
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Âú∫ÊôØÔºö
</span></span><span class="line"><span class="cl">ÂÅáÂ¶ÇÊàë‰ª¨Êúâ‰∏Ä‰∏™ÊêúÁ¥¢ÁΩëÁ´ôÔºåÁî®Êà∑Âú®Ëøô‰∏™ÁΩëÁ´ôÁöÑÊêúÁ¥¢Ê°Ü‰∏≠ÔºåËæìÂÖ•ÂÖ≥ÈîÆÂ≠óÊêúÁ¥¢ÂÜÖÂÆπÔºå‰ΩÜÊòØÊüê‰∫õÂÖ≥ÈîÆÂ≠ó‰∏çÂÖÅËÆ∏Ë¢´ÊêúÁ¥¢„ÄÇËøô‰∫õ‰∏çËÉΩË¢´ÊêúÁ¥¢ÁöÑÂÖ≥ÈîÆÂ≠ó‰ºöË¢´ÊîæÂú®‰∏Ä‰∏™ÈªëÂêçÂçïÂΩì‰∏≠ÔºåÈªëÂêçÂçï‰∏ÄÂÆöÂë®ÊúüÊâç‰ºöÊõ¥Êñ∞‰∏ÄÊ¨°„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Áº∫ÁÇπ">Áº∫ÁÇπ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">1</span><span class="p">.</span><span class="w"> </span><span class="n">ÂÜÖÂ≠òÂç†Áî®ÈóÆÈ¢ò</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÂÜôÁöÑÊó∂ÂÄô‰ºöÂàõÂª∫Êñ∞ÂØπË±°Ê∑ªÂä†Âà∞Êñ∞ÂÆπÂô®ÈáåÔºåËÄåÊóßÂÆπÂô®ÁöÑÂØπË±°ËøòÂú®‰ΩøÁî®ÔºåÊâÄ‰ª•Êúâ‰∏§‰ªΩÂØπË±°ÂÜÖÂ≠ò„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//2ÂÄçÂÜÖÂ≠òÁ©∫Èó¥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">2</span><span class="p">.</span><span class="w"> </span><span class="n">Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//CopyOnWriteÂÆπÂô®Âè™ËÉΩ‰øùËØÅÊï∞ÊçÆÁöÑÊúÄÁªà‰∏ÄËá¥ÊÄßÔºå‰∏çËÉΩ‰øùËØÅÊï∞ÊçÆÁöÑÂÆûÊó∂‰∏ÄËá¥ÊÄß„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÊâÄ‰ª•Â¶ÇÊûú‰Ω†Â∏åÊúõÂÜôÂÖ•ÁöÑÊï∞ÊçÆÔºåÈ©¨‰∏äËÉΩËØªÂà∞ÔºåËØ∑‰∏çË¶Å‰ΩøÁî®CopyOnWriteÂÆπÂô®„ÄÇËØªÁöÑÊï∞ÊçÆÂèØËÉΩÊòØÂ∞±ÊóßÊï∞ÁªÑ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="concurrenthashmap">ConcurrentHashMap
</h3><p><strong>ÁâπÁÇπ</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">1</span><span class="p">.</span><span class="w"> </span><span class="n">Âπ∂ÂèëÊÄß</span><span class="err">Ôºö</span><span class="n">ConcurrentHashMap</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÂÖÅËÆ∏Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆÔºåËØªÊìç‰Ωú‰∏ç‰ºöË¢´ÈòªÂ°ûÔºå‰∏çÈúÄË¶ÅÂä†ÈîÅ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ËøôÊÑèÂë≥ÁùÄÂ§ö‰∏™Á∫øÁ®ãÂèØ‰ª•Âπ∂ÂèëÂú∞ËØªÂèñÂÖ∂‰∏≠ÁöÑÊï∞ÊçÆÔºåËÄå‰∏ç‰ºöÂèëÁîüÁ´û‰∫âÊàñÈîÅÂÆö„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">2</span><span class="p">.</span><span class="w"> </span><span class="n">ÂàÜÊÆµÈîÅ</span><span class="err">Ôºö</span><span class="n">ConcurrentHashMap</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ConcurrentHashMapÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑMapÂÆπÂô®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//JDK8‰πãÂâçÔºåConcurrentHashMap‰ΩøÁî®ÈîÅÂàÜÊÆµÊäÄÊúØÔºåÂ∞ÜÊï∞ÊçÆÂàÜÊàê‰∏ÄÊÆµÊÆµÂ≠òÂÇ®ÔºåÊØè‰∏™Êï∞ÊçÆÊÆµÈÖçÁΩÆ‰∏ÄÊääÈîÅÔºåÂç≥segmentÁ±ªÔºåËøô‰∏™Á±ªÁªßÊâøReentrantLockÊù•‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåJKD8ÁöÑÁâàÊú¨ÂèñÊ∂àSegmentËøô‰∏™ÂàÜÊÆµÈîÅÊï∞ÊçÆÁªìÊûÑÔºåÂ∫ïÂ±Ç‰πüÊòØ‰ΩøÁî®NodeÊï∞ÁªÑ+ÈìæË°®+Á∫¢ÈªëÊ†ëÔºå‰ªéËÄåÂÆûÁé∞ÂØπÊØè‰∏ÄÊÆµÊï∞ÊçÆÂ∞±Ë°åÂä†ÈîÅÔºå‰πüÂáèÂ∞ë‰∫ÜÂπ∂ÂèëÂÜ≤Á™ÅÁöÑÊ¶ÇÁéá„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ËøôÁßçËÆæËÆ°ÂÖÅËÆ∏Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËøõË°åËØªÊìç‰ΩúÔºåÂè™ÊúâÂú®ÂÜôÊìç‰ΩúÊó∂ÊâçÈúÄË¶ÅÈîÅÂÆöÁõ∏Â∫îÁöÑÊÆµÔºå‰ª•Á°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®„ÄÇËøôÊèêÈ´ò‰∫ÜÂπ∂ÂèëÊÄßËÉΩÔºåÂõ†‰∏∫‰∏çÂêåÊÆµ‰πãÈó¥ÁöÑÊìç‰Ωú‰∏ç‰ºöÁõ∏‰∫íÈòªÂ°û„ÄÇ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">ConcurrentHashMapÊòØ‰∏Ä‰∏™Áî®‰∫éÈ´òÂπ∂ÂèëÁéØÂ¢ÉÁöÑÈùûÂ∏∏ÊúâÁî®ÁöÑÊï∞ÊçÆÁªìÊûÑ</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÂÆÉÊèê‰æõ‰∫ÜÈ´òÊïàÁöÑÂπ∂ÂèëËÆøÈóÆÊîØÊåÅ</span><span class="err">Ôºå</span><span class="n">ÂÖÅËÆ∏Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËØªÂèñÂíåÂÜôÂÖ•Êï∞ÊçÆ</span><span class="err">Ôºå</span><span class="n">ËÄå‰∏çÈúÄË¶ÅÊòæÂºèÁöÑÈîÅÂÆö</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Âú∫ÊôØ</span><span class="err">Ôºö</span><span class="n">Âπ∂ÂèëÁºñÁ®ã‰∏≠ÈúÄË¶ÅÈ´òÊïàÂú∞Â§ÑÁêÜÂÖ±‰∫´Êï∞ÊçÆÁöÑÊÉÖÂÜµ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Âπ∂ÂèëÂÆâÂÖ®ÈõÜÂêàÁ±ªÈÉΩÂì™‰∫õÔºü</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">ConcurrentHashMap</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂìàÂ∏åË°®ÂÆûÁé∞,ÂÆÉÈÄöËøáÂàÜÊÆµÈîÅÁöÑÊú∫Âà∂Êù•ÂÆûÁé∞Âπ∂ÂèëËÆøÈóÆÁöÑÈ´òÊïàÊÄß„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">CopyOnWriteArrayList</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ List ÂÆûÁé∞ÔºåÂÆÉÈÄöËøáÂ§çÂà∂Â∫ïÂ±ÇÊï∞ÁªÑÁöÑÊñπÂºè‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåÈÄÇÁî®‰∫éËØªÂ§öÂÜôÂ∞ëÁöÑÂú∫ÊôØ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">CopyOnWriteArraySet</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÊòØ CopyOnWriteArrayList ÁöÑ Set ÁâàÊú¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">BlockingQueue</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//ÊòØ‰∏Ä‰∏™Áî®‰∫éÂú®Â§öÁ∫øÁ®ãÈó¥‰º†ÈÄíÊï∞ÊçÆÁöÑÈòüÂàóÊé•Âè£,ÂÆÉÂåÖÂê´Â§ö‰∏™ÂÆûÁé∞Á±ªÔºåÂ¶Ç ArrayBlockingQueue„ÄÅLinkedBlockingQueue</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="jucÂº∫Â§ßÁöÑËæÖÂä©Á±ª">JUCÂº∫Â§ßÁöÑËæÖÂä©Á±ª
</h2><ol>
<li>CountDownLatchÔºàÂÄíËÆ°Êï∞Âô®Ôºâ</li>
<li>CyclicBarrierÔºàÂæ™ÁéØÊ†ÖÊ†èÔºâ</li>
<li>SemaphoreÔºà‰ø°Âè∑Èáè</li>
</ol>
<h3 id="countdownlatch">CountDownLatch
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">ÂÄíËÆ°Êï∞Âô®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Â∏∏Áî®ÊñπÊ≥ï</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">new</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//ÂÆû‰æãÂåñ‰∏Ä‰∏™ÂÄíËÆ°Êï∞Âô®ÔºåcountÊåáÂÆöÂàùÂßãËÆ°Êï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">countDown</span><span class="p">()</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// ÊØèË∞ÉÁî®‰∏ÄÊ¨°ÔºåËÆ°Êï∞Âáè‰∏Ä</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">await</span><span class="p">()</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//Á≠âÂæÖÔºåÂΩìËÆ°Êï∞ÂáèÂà∞0Êó∂ÔºåÈòªÂ°ûÁ∫øÁ®ãÔºàÂèØ‰ª•ÊòØ‰∏Ä‰∏™Ôºå‰πüÂèØ‰ª•ÊòØÂ§ö‰∏™ÔºâÂπ∂Ë°åÊâßË°å</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">‰ΩøÁî®</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ex</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//6‰∏™ÂêåÂ≠¶(Â≠êÁ∫øÁ®ã)ÈôÜÁª≠Á¶ªÂºÄÊïôÂÆ§ÂêéÂÄºÁè≠ÂêåÂ≠¶Ôºà‰∏ªÁ∫øÁ®ãÔºâÊâçÂèØ‰ª•ÂÖ≥Èó®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1.ÂàõÂª∫ÂÄíËÆ°Êï∞Âô®ÂØπË±°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CountDownLatch</span><span class="w"> </span><span class="n">countDownLatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="p">(</span><span class="n">6</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//2.Âæ™ÁéØÂàõÂª∫6‰∏™Â≠êÁ∫øÁ®ãÂàÜÂà´ÊâßË°åÂêÑËá™‰∏öÂä°ÔºàÂÆåÊàêËØæÂêé‰Ωú‰∏öÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">6</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&#34;ÔºåÂºÄÂßãÂ≠¶‰π†&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="n">10</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&#34;ÔºåÁªìÊùüÂ≠¶‰π†&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">countDownLatch</span><span class="p">.</span><span class="na">countDown</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           
</span></span></span><span class="line"><span class="cl"><span class="w">                
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;ÂêåÂ≠¶&#34;</span><span class="o">+</span><span class="n">i</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//3.‰∏ªÁ∫øÁ®ãÈòªÂ°ûÁ≠âÂæÖÂêÑ‰∏™Â≠êÁ∫øÁ®ãÊâßË°åÁªìÊùü</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">countDownLatch</span><span class="p">.</span><span class="na">await</span><span class="p">(</span><span class="n">10</span><span class="p">,</span><span class="w"> </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&#34;Áè≠ÈïøÈîÅÈó®ÔºåËµ∞‰∫∫ÔºÅ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÁªìÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÂêåÂ≠¶1ÔºåÂºÄÂßãÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶4ÔºåÂºÄÂßãÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶3ÔºåÂºÄÂßãÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶2ÔºåÂºÄÂßãÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶5ÔºåÂºÄÂßãÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶6ÔºåÂºÄÂßãÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶5ÔºåÁªìÊùüÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶2ÔºåÁªìÊùüÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶4ÔºåÁªìÊùüÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶1ÔºåÁªìÊùüÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶6ÔºåÁªìÊùüÂ≠¶‰π†
</span></span><span class="line"><span class="cl">ÂêåÂ≠¶3ÔºåÁªìÊùüÂ≠¶‰π†
</span></span><span class="line"><span class="cl">mainÁè≠ÈïøÈîÅÈó®ÔºåËµ∞‰∫∫ÔºÅ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="countdownlatch-‰∏é-join-ÊñπÊ≥ïÁöÑÂå∫Âà´">CountDownLatch ‰∏é join ÊñπÊ≥ïÁöÑÂå∫Âà´
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Ë∞ÉÁî®‰∏Ä‰∏™Â≠êÁ∫øÁ®ãjoin()ÊñπÊ≥ïÂêéÔºåËØ•Á∫øÁ®ã‰ºö‰∏ÄÁõ¥Ë¢´ÈòªÂ°ûÔºåÁõ¥Âà∞ËØ•Á∫øÁ®ãËøêË°åÂÆåÊØï
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> CountDownLatchÂàô‰ΩøÁî®ËÆ°Êï∞Âô®
</span></span><span class="line"><span class="cl"> ÂÖÅËÆ∏Â≠êÁ∫øÁ®ãËøêË°åÂÆåÊØïÊàñËÄÖËøêË°å‰∏≠Êó∂ÂÄôÈÄíÂáèËÆ°Êï∞
</span></span><span class="line"><span class="cl"> ‰πüÂ∞±ÊòØCountDownLatch ÂèØ‰ª•Âú®Â≠êÁ∫øÁ®ãËøêË°å‰ªª‰ΩïÊó∂ÂÄôËÆ© await ÊñπÊ≥ïËøîÂõûËÄå‰∏ç‰∏ÄÂÆöÂøÖÈ°ªÁ≠âÂà∞Á∫øÁ®ãÁªìÊùüÔºõ
</span></span><span class="line"><span class="cl"> (awaitÁ±ª‰ººwaitÔºå‰∏çËøáwaitÈÖçÂêàsynchronizedÂÖ≥ÈîÆÂ≠óÔºåawaitÈÖçÂêàlockÊé•Âè£)
</span></span><span class="line"><span class="cl"> countDownLatch Áõ∏ÊØî Join ÊñπÊ≥ïËÆ©Êàë‰ª¨ÂØπÁ∫øÁ®ãÂêåÊ≠•ÊúâÊõ¥ÁÅµÊ¥ªÁöÑÊéßÂà∂„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="cyclicbarrier">CyclicBarrier
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Âæ™ÁéØÊ†ÖÊ†è</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Â§ßÊ¶ÇÁöÑÊÑèÊÄùÂ∞±ÊòØ‰∏Ä‰∏™ÂèØÂæ™ÁéØÂà©Áî®ÁöÑÂ±èÈöú</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nl">‰∏ªË¶Å‰ΩúÁî®ÊòØ</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Âú®Â§ö‰∏™Á∫øÁ®ãÁõ∏‰∫íÁ≠âÂæÖËææÂà∞Êüê‰∏™ÂÖ±ÂêåÁÇπ‰πãÂêéÂÜç‰∏ÄËµ∑ÁªßÁª≠ÊâßË°å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Â∏∏Áî®ÊñπÊ≥ï</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">1</span><span class="p">.</span><span class="w"> </span><span class="nf">CyclicBarrier</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">parties</span><span class="p">,</span><span class="w"> </span><span class="n">Runnable</span><span class="w"> </span><span class="n">barrierAction</span><span class="p">)</span><span class="w"> </span><span class="n">ÂàõÂª∫‰∏Ä‰∏™CyclicBarrierÂÆû‰æã</span><span class="err">Ôºå</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">partiesÊåáÂÆöÂèÇ‰∏éÁõ∏‰∫íÁ≠âÂæÖÁöÑÁ∫øÁ®ãÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">barrierAction‰∏Ä‰∏™ÂèØÈÄâÁöÑRunnableÂëΩ‰ª§</span><span class="err">Ôºå</span><span class="n">ËØ•ÂèÇÊï∞Âè™Âú®ÊØè‰∏™Â±èÈöúÁÇπËøêË°å‰∏ÄÊ¨°</span><span class="err">Ôºå</span><span class="n">ÂèØ‰ª•Âú®ÊâßË°åÂêéÁª≠‰∏öÂä°‰πãÂâçÂÖ±‰∫´Áä∂ÊÄÅ</span><span class="err">„ÄÇ</span><span class="n">ËØ•Êìç‰ΩúÁî±ÊúÄÂêé‰∏Ä‰∏™ËøõÂÖ•Â±èÈöúÁÇπÁöÑÁ∫øÁ®ãÊâßË°å</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">2</span><span class="p">.</span><span class="w"> </span><span class="nf">CyclicBarrier</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">parties</span><span class="p">)</span><span class="w"> </span><span class="n">ÂàõÂª∫‰∏Ä‰∏™CyclicBarrierÂÆû‰æã</span><span class="err">Ôºå</span><span class="n">partiesÊåáÂÆöÂèÇ‰∏éÁõ∏‰∫íÁ≠âÂæÖÁöÑÁ∫øÁ®ãÊï∞</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">3</span><span class="p">.</span><span class="w"> </span><span class="nf">await</span><span class="p">()</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ËØ•ÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂Ë°®Á§∫ÂΩìÂâçÁ∫øÁ®ãÂ∑≤ÁªèÂà∞ËææÂ±èÈöúÁÇπ</span><span class="err">Ôºå</span><span class="n">ÂΩìÂâçÁ∫øÁ®ãÈòªÂ°ûËøõÂÖ•‰ºëÁú†Áä∂ÊÄÅ</span><span class="err">Ôºå`</span><span class="n">Áõ¥Âà∞ÊâÄÊúâÁ∫øÁ®ãÈÉΩÂà∞ËææÂ±èÈöúÁÇπ</span><span class="err">`Ôºå</span><span class="n">ÂΩìÂâçÁ∫øÁ®ãÊâç‰ºöË¢´Âî§ÈÜí</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">‰ΩøÁî®</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ex</span><span class="err">Ôºö</span><span class="n">ÁªÑÈòüÊâìbossËøáÂÖ≥Âç°Ê∏∏Êàè</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÂÖ±ËÆ°‰∏â‰∏™Á∫øÁ®ã</span><span class="err">Ôºà</span><span class="n">Áé©ÂÆ∂</span><span class="err">ÔºâÔºå</span><span class="n">Ë¶ÅÊ±ÇÊâÄÊúâÁ∫øÁ®ãÊâßË°åÂÆåÊüê‰∏ÄÂÖ≥</span><span class="err">Ôºà</span><span class="n">Âà∞ËææÊüê‰∏™Â±èÈöúÁÇπ</span><span class="err">ÔºâÔºå</span><span class="n">ÊâçËÉΩÂ§üÁªßÁª≠ÊâßË°å‰∏ã‰∏ÄÂÖ≥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1.Â£∞ÊòéÂæ™ÁéØÊ†ÖÊ†èÂØπË±° p1:Á∫øÁ®ãÊï∞Èáè p2:ÊâÄÊúâÁ∫øÁ®ãÂà∞ËææÂ±èÈöúÁÇπÂêéÊâßË°å‰∏öÂä°-Áî±ÊúÄÂêé‰∏Ä‰∏™Âà∞ËææÂ±èÈöúÁÇπÁ∫øÁ®ãÊâßË°å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CyclicBarrier</span><span class="w"> </span><span class="n">cyclicBarrier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CyclicBarrier</span><span class="p">(</span><span class="n">3</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&#34;ÔºàË£ÅÂà§Ôºâ,ÊâÄÊúâÁé©ÂÆ∂ÈÉΩÂÆåÊàêËØ•ÂÖ≥Âç°ÔºåÁªßÁª≠...&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//2.ÂàõÂª∫‰∏â‰∏™Á∫øÁ®ãÔºå‰∏öÂä°ÈÄªËæëÔºåÁ∫øÁ®ãÈó¥‰∫íÁõ∏Á≠âÂæÖÔºåÂÖ®ÈÉ®Âà∞ËææÂ±èÈöúÁÇπÔºåÊâçÁªßÁª≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="c1">//2.1 Ê®°ÊãüÂΩìÂâçÁ∫øÁ®ãËøáÊ∏∏ÊàèÊâÄÊúâÂÖ≥Âç°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÔºåÂºÄÂßãËøáÁ¨¨1ÂÖ≥&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="n">5</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÔºåÁ¨¨1ÂÖ≥,Â∑≤Ëøá&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">cyclicBarrier</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="c1">//2.2 Â¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÂÖàÂà∞ËææÂ±èÈöúÁÇπÔºåÂÖ∂‰ªñÁ∫øÁ®ãËøòÊú™Âà∞ËææÔºåÂ∞ÜÂΩìÂâçÁ∫øÁ®ãËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅÔºå‰∏ÄÁõ¥Âà∞ÂÖ∂‰ªñÊâÄÊúâÁ∫øÁ®ãÂÖ®ÈÉ®Âà∞ËææÂ±èÈöúÁÇπ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÔºåÂºÄÂßãËøáÁ¨¨2ÂÖ≥&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="n">5</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÔºåÁ¨¨2ÂÖ≥,Â∑≤Ëøá&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">cyclicBarrier</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÔºåÂºÄÂßãËøáÁ¨¨3ÂÖ≥&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="n">5</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÔºåÁ¨¨3ÂÖ≥,Â∑≤Ëøá&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">cyclicBarrier</span><span class="p">.</span><span class="na">await</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;Áé©ÂÆ∂&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÁªìÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Áé©ÂÆ∂1ÔºåÂºÄÂßãËøáÁ¨¨1ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂3ÔºåÂºÄÂßãËøáÁ¨¨1ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂2ÔºåÂºÄÂßãËøáÁ¨¨1ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂3ÔºåÁ¨¨1ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂1ÔºåÁ¨¨1ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂2ÔºåÁ¨¨1ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂2ÔºàË£ÅÂà§Ôºâ,ÊâÄÊúâÁé©ÂÆ∂ÈÉΩÂÆåÊàêËØ•ÂÖ≥Âç°ÔºåÁªßÁª≠...
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂2ÔºåÂºÄÂßãËøáÁ¨¨2ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂1ÔºåÂºÄÂßãËøáÁ¨¨2ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂3ÔºåÂºÄÂßãËøáÁ¨¨2ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂3ÔºåÁ¨¨2ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂2ÔºåÁ¨¨2ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂1ÔºåÁ¨¨2ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂1ÔºàË£ÅÂà§Ôºâ,ÊâÄÊúâÁé©ÂÆ∂ÈÉΩÂÆåÊàêËØ•ÂÖ≥Âç°ÔºåÁªßÁª≠...
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂1ÔºåÂºÄÂßãËøáÁ¨¨3ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂3ÔºåÂºÄÂßãËøáÁ¨¨3ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂2ÔºåÂºÄÂßãËøáÁ¨¨3ÂÖ≥
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂1ÔºåÁ¨¨3ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂2ÔºåÁ¨¨3ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂3ÔºåÁ¨¨3ÂÖ≥,Â∑≤Ëøá
</span></span><span class="line"><span class="cl">Áé©ÂÆ∂3ÔºàË£ÅÂà§Ôºâ,ÊâÄÊúâÁé©ÂÆ∂ÈÉΩÂÆåÊàêËØ•ÂÖ≥Âç°ÔºåÁªßÁª≠...
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ê≥®ÔºöÊâÄÊúâÁöÑ&quot;ËøáÂÖ≥‰∫Ü&quot;ÈÉΩÊòØÁî±ÊúÄÂêéÂà∞ËææawaitÊñπÊ≥ïÁöÑÁ∫øÁ®ãÊâßË°åÊâìÂç∞ÁöÑ</p>
<h3 id="cyclicbarrierÂíåcountdownlatchÁöÑÂå∫Âà´">CyclicBarrierÂíåCountDownLatchÁöÑÂå∫Âà´
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">- CountDownLatchÂÖÅËÆ∏‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÁ≠âÂæÖ‰∏ÄÁªÑ‰∫ã‰ª∂ÁöÑ‰∫ßÁîü
</span></span><span class="line"><span class="cl">ËÄåCyclicBarrierÁî®‰∫éÁ≠âÂæÖÂÖ∂‰ªñÁ∫øÁ®ãËøêË°åÂà∞Ê†ÖÊ†è‰ΩçÁΩÆ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- CountDownLatchÁöÑËÆ°Êï∞Âô®Âè™ËÉΩ‰ΩøÁî®‰∏ÄÊ¨°
</span></span><span class="line"><span class="cl">ËÄåCyclicBarrierÁöÑËÆ°Êï∞Âô®ÂèØ‰ª•‰ΩøÁî®Â§öÊ¨°
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- ÊâÄ‰ª•CyclicBarrierËÉΩÂ§üÂ§ÑÁêÜÊõ¥‰∏∫Â§çÊùÇÁöÑÂú∫ÊôØ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="semaphore">Semaphore
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">‰ø°Âè∑Èáè</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SemaphoreÂèØ‰ª•ÊéßÂà∂ÂêåÊó∂ËÆøÈóÆÁöÑÁ∫øÁ®ã‰∏™Êï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÈùûÂ∏∏ÈÄÇÂêàÈúÄÊ±ÇÈáèÂ§ß</span><span class="err">Ôºå</span><span class="n">ËÄåËµÑÊ∫êÂèàÂæàÁ¥ßÂº†ÁöÑÊÉÖÂÜµ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Â∏∏Áî®ÊñπÊ≥ï</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="nf">Semaphore</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">permits</span><span class="p">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ÊûÑÈÄ†ÊñπÊ≥ïÔºåpermitsÊåáËµÑÊ∫êÊï∞ÁõÆÔºà‰ø°Âè∑ÈáèÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">acquire</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// Âç†Áî®ËµÑÊ∫êÔºåÂΩì‰∏Ä‰∏™Á∫øÁ®ãË∞ÉÁî®acquireÊìç‰ΩúÊó∂ÔºåÂÆÉË¶Å‰πàÈÄöËøáÊàêÂäüËé∑Âèñ‰ø°Âè∑ÈáèÔºà‰ø°Âè∑ÈáèÂáè1ÔºâÔºåË¶Å‰πà‰∏ÄÁõ¥Á≠â‰∏ãÂéªÔºåÁõ¥Âà∞ÊúâÁ∫øÁ®ãÈáäÊîæ‰ø°Âè∑ÈáèÔºåÊàñË∂ÖÊó∂„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">release</span><span class="p">()</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ÔºàÈáäÊîæÔºâÂÆûÈôÖ‰∏ä‰ºöÂ∞Ü‰ø°Âè∑ÈáèÁöÑÂÄºÂä†1ÔºåÁÑ∂ÂêéÂî§ÈÜíÁ≠âÂæÖÁöÑÁ∫øÁ®ã„ÄÇ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏§‰∏™ÁõÆÁöÑÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1. Â§ö‰∏™ÂÖ±‰∫´ËµÑÊ∫êÁöÑ‰∫íÊñ•‰ΩøÁî®„ÄÇ
</span></span><span class="line"><span class="cl">2. Áî®‰∫éÂπ∂ÂèëÁ∫øÁ®ãÊï∞ÁöÑÊéßÂà∂„ÄÇ‰øùÊä§‰∏Ä‰∏™ÂÖ≥ÈîÆÈÉ®ÂàÜ‰∏çË¶Å‰∏ÄÊ¨°ËæìÂÖ•Ë∂ÖËøáN‰∏™Á∫øÁ®ã„ÄÇÔºàÈôêÊµÅÔºâ
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">‰ΩøÁî®</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ex</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//6ËæÜËΩ¶ÔºàÁ∫øÁ®ãÔºâË¶ÅËøõÂÖ•Âà∞ÂÅúËΩ¶Âú∫ÂÖ±ËÆ°Êúâ3‰∏™ËΩ¶‰ΩçÔºà‰ø°Âè∑ÈáèÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1.ÊûÑÂª∫‰ø°Âè∑ÈáèÂØπË±°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Semaphore</span><span class="w"> </span><span class="n">semaphore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Semaphore</span><span class="p">(</span><span class="n">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//2.Âæ™ÁéØÂàõÂª∫6‰∏™Á∫øÁ®ãÔºåÊãøÂà∞‰ø°Âè∑ÈáèÊâçËÉΩÊâßË°åÁ∫øÁ®ã‰∏öÂä°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">6</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="c1">//2.1 ÊØè‰∏™ËΩ¶ËæÜÂè™ÊúâÊãøÂà∞‰ø°Âè∑ÊâçËÉΩÂÅúËΩ¶ ÂΩìÂâçÁ∫øÁ®ã‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÂà∞Ëé∑Âèñ‰ø°Âè∑‰∏∫Ê≠¢</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">semaphore</span><span class="p">.</span><span class="na">acquire</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="c1">//2.2 Á∫øÁ®ã‰∏öÂä°ÈÄªËæë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&#34; Êä¢Âà∞‰∫Ü‰∏Ä‰∏™ÂÅúËΩ¶‰ΩçÔºÅ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="n">5</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="c1">//2.3 ÂΩìÂâçËΩ¶ËæÜ‰∏öÂä°ÊâßË°åÂÆåÊØïÔºåÈáäÊîæ‰ø°Âè∑Èáè</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&#34; Á¶ªÂºÄÂÅúËΩ¶‰ΩçÔºÅÔºÅ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">semaphore</span><span class="p">.</span><span class="na">release</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÊâìÂç∞ÁªìÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">0 Êä¢Âà∞‰∫Ü‰∏Ä‰∏™ÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">1 Êä¢Âà∞‰∫Ü‰∏Ä‰∏™ÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">2 Êä¢Âà∞‰∫Ü‰∏Ä‰∏™ÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">1 Á¶ªÂºÄÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">3 Êä¢Âà∞‰∫Ü‰∏Ä‰∏™ÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">2 Á¶ªÂºÄÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">4 Êä¢Âà∞‰∫Ü‰∏Ä‰∏™ÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">0 Á¶ªÂºÄÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">5 Êä¢Âà∞‰∫Ü‰∏Ä‰∏™ÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">5 Á¶ªÂºÄÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">3 Á¶ªÂºÄÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span><span class="line"><span class="cl">4 Á¶ªÂºÄÂÅúËΩ¶‰ΩçÔºÅÔºÅ
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="callableÊé•Âè£">CallableÊé•Âè£
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ThreadÁ±ªÂíåRunnableÊé•Âè£ÈÉΩ`‰∏çÂÖÅËÆ∏Â£∞ÊòéÊ£ÄÊü•ÂûãÂºÇÂ∏∏`Ôºå`‰πü‰∏çËÉΩÂÆö‰πâËøîÂõûÂÄº`„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‰ªéjava5ÂºÄÂßãÔºåÊèê‰æõ‰∫ÜCallableÊé•Âè£
</span></span><span class="line"><span class="cl">`Áî®Call()ÊñπÊ≥ï‰Ωú‰∏∫Á∫øÁ®ãÁöÑÊâßË°å‰ΩìÔºåÂ¢ûÂº∫‰∫Ü‰πãÂâçÁöÑrun()ÊñπÊ≥ï„ÄÇ`Âõ†‰∏∫callÊñπÊ≥ïÂèØ‰ª•ÊúâËøîÂõûÂÄºÔºå‰πüÂèØ‰ª•Â£∞ÊòéÊäõÂá∫ÂºÇÂ∏∏„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="callableÂíårunnableÂØπÊØî">CallableÂíåRunnableÂØπÊØî
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">runnableÔºöÂºäÁ´ØÔºöÊ≤°ÊúâËøîÂõûÁªìÊûúÔºå‰∏çËÉΩÂ£∞ÊòéÊäõÂºÇÂ∏∏  Êù•Ëá™java.lang
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">callable:‰ºòÂäøÔºöÊúâËøîÂõûÂÄºÔºåÊäõÂºÇÂ∏∏  Êù•Ëá™java.util.concurrent
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="callableÁöÑ‰ΩøÁî®">CallableÁöÑ‰ΩøÁî®
</h3><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108022824339.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108022824339"
	
	
></p>
<p>FutureTaskÂÖ∂ÂÆûÂèØ‰ª•ÂÖÖÂΩì‰∫Ü‰∏Ä‰∏™‰∏≠Èó¥‰∫∫ÁöÑËßíËâ≤</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">MyRunnableThread</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Runnable</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; Runnable&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 1. ÂàõÂª∫CallableÁöÑÂÆûÁé∞Á±ªÔºåÂπ∂ÈáçÂÜôcall()ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰∏∫Á∫øÁ®ãÊâßË°å‰ΩìÔºåÂπ∂‰∏îËØ•ÊñπÊ≥ïÊúâËøîÂõûÂÄº
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">MyCallableThread</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Callable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="nf">call</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">300</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; ÊâßË°å‰∫ÜÔºÅ&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CallableDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="p">,</span><span class="w"> </span><span class="n">ExecutionException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ÂàõÂª∫Â§öÁ∫øÁ®ã</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MyRunnableThread</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;threadName&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//new Thread(new MyCallableThread(), &#34;threadName&#34;).start();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 2. ÂàõÂª∫CallableÁöÑÂÆû‰æãÔºåÂπ∂Áî®FutureTaskÁ±ªÊù•ÂåÖË£ÖCallableÂØπË±°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 3. ÂàõÂª∫FutureTaskÂØπË±°ÔºåÈúÄË¶Å‰∏Ä‰∏™CallableÁ±ªÂûãÁöÑÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">FutureTask</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FutureTask</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MyCallableThread</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 4. ÂàõÂª∫Â§öÁ∫øÁ®ãÔºåÁî±‰∫éFutureTaskÁöÑÊú¨Ë¥®ÊòØRunnableÁöÑÂÆûÁé∞Á±ªÔºåÊâÄ‰ª•Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®task</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="n">task</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;MyCallableThread&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//ÂèñÊ∂à‰ªªÂä°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//        Thread.sleep(1000);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//        task.cancel(true); //Á∫øÁ®ãËøêË°åÊó∂ÂèØ‰ª•Ë¢´ÊâìÊñ≠Âêó</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//        boolean cancelled = task.isCancelled();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//        System.out.println(&#34;cancelled &#34; + cancelled);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//Á≠âÂæÖ‰ªªÂä°ÊâßË°åÂÆåÊØï</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//        while (!task.isDone()) { //‰πüÂèØ‰ª•‰ΩøÁî®task.isDone()Âà§Êñ≠Â≠êÁ∫øÁ®ãÊòØÂê¶ÊâßË°åÂÆåÊØï</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//            Thread.sleep(100);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//            System.out.println(&#34;wait...&#34;);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//        }</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//Ëé∑ÂèñÁªìÊûú</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">task</span><span class="p">.</span><span class="na">get</span><span class="p">());</span><span class="c1">//getÊñπÊ≥ïÈòªÂ°û‰∏ªÁ∫øÁ®ãÔºåÂõ†‰∏∫ÈúÄË¶ÅËøîÂõûÂ≠êÁ∫øÁ®ãÁöÑÁªìÊûú</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; over!&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="futuretask">FutureTask
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">FutureTaskÊòØ Java ‰∏≠ÁöÑ‰∏Ä‰∏™Á±ªÔºåÂÆÉÂÆûÁé∞‰∫ÜFutureÂíåRunnableÊé•Âè£ÔºåÁî®‰∫éË°®Á§∫‰∏Ä‰∏™ÂèØÂèñÊ∂àÁöÑÂºÇÊ≠•ËÆ°ÁÆó‰ªªÂä°„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FutureTask ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÔºö
</span></span><span class="line"><span class="cl">‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ËÆ°ÁÆóÁªìÊûúÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ã‰∏≠Ëé∑ÂèñËÆ°ÁÆóÊú∫ÁöÑÁªìÊûúÔºåÂêåÊó∂ËøòÊîØÊåÅ‰ªªÂä°ÁöÑÂèñÊ∂àÊìç‰Ωú
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏ªË¶Å‰ΩúÁî®Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nl">ÂºÇÊ≠•ËÆ°ÁÆó</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">ÂÖÅËÆ∏ÂºÄÂèëËÄÖÂú®‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ÊâßË°åËÄóÊó∂ÁöÑËÆ°ÁÆó‰ªªÂä°ËÄå‰∏ç‰ºöÈòªÂ°û‰∏ªÁ∫øÁ®ã</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Ëé∑ÂèñËÆ°ÁÆóÁªìÊûú</span><span class="err">Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Ë∞ÉÁî®get</span><span class="p">()</span><span class="n">ÊñπÊ≥ï</span><span class="err">Ôºå</span><span class="n">Ëé∑ÂèñËÆ°ÁÆóÁªìÊûú</span><span class="err">„ÄÇ</span><span class="n">Â¶ÇÊûúËÆ°ÁÆóÂ∞öÊú™ÂÆåÊàê</span><span class="err">Ôºå</span><span class="n">get</span><span class="p">()</span><span class="n">‰ºöÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ã</span><span class="err">Ôºå</span><span class="n">Áõ¥Âà∞ËÆ°ÁÆóÂÆåÊàê</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÂèñÊ∂à‰ªªÂä°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nf">Ë∞ÉÁî®cancel</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">mayInterruptIfRunning</span><span class="p">)</span><span class="n">ÊñπÊ≥ïÊù•ÂèñÊ∂à‰ªªÂä°ÁöÑÊâßË°å</span><span class="err">„ÄÇ</span><span class="w">   </span><span class="n">ÂèØ‰ª•ÈÄâÊã©ÊòØÂê¶ÂÖÅËÆ∏Âú®‰ªªÂä°ËøêË°åÊó∂‰∏≠Êñ≠‰ªªÂä°</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">‰ªªÂä°Áä∂ÊÄÅÊü•ËØ¢</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">FutureTaskÊèê‰æõ‰∫Ü‰∏Ä‰∫õÊñπÊ≥ïÊù•Êü•ËØ¢‰ªªÂä°ÁöÑÁä∂ÊÄÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="nf">isDone</span><span class="p">()</span><span class="n">Áî®‰∫éÊ£ÄÊü•‰ªªÂä°ÊòØÂê¶Â∑≤ÂÆåÊàê</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="nf">isCancelled</span><span class="p">()</span><span class="n">Áî®‰∫éÊ£ÄÊü•‰ªªÂä°ÊòØÂê¶Â∑≤Ë¢´ÂèñÊ∂à</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÂºÇÂ∏∏Â§ÑÁêÜ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Â¶ÇÊûúÂºÇÊ≠•‰ªªÂä°ÊäõÂá∫‰∫ÜÂºÇÂ∏∏</span><span class="err">Ôºå</span><span class="n">FutureTask‰ºöÊçïËé∑ÂºÇÂ∏∏Âπ∂Âú®ÂêéÁª≠Ë∞ÉÁî®</span><span class="w"> </span><span class="nf">get</span><span class="p">()</span><span class="n">ÊñπÊ≥ïÊó∂ÈáçÊñ∞ÊäõÂá∫</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">Ëé∑ÂèñËÆ°ÁÆóÁªìÊûúÊó∂Â§ÑÁêÜÂèØËÉΩÁöÑ‰∏ÄÂú∫Êä¢Áüø</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Ê≥®Ôºö<strong>‰∏∫‰∫ÜÈò≤Ê≠¢‰∏ªÁ∫øÁ®ãÈòªÂ°ûÔºåÂª∫ËÆÆgetÊñπÊ≥ïÊîæÂà∞ÊúÄÂêé</strong></p>
<p>‚Äã        <strong>Âè™ËÆ°ÁÆó‰∏ÄÊ¨°</strong>ÔºåFutureTask‰ºöÂ§çÁî®‰πãÂâçËÆ°ÁÆóËøáÁöÑÁªìÊûú</p>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108172948082.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108172948082"
	
	
></p>
<h3 id="callableÊé•Âè£‰∏érunnableÊé•Âè£ÁöÑÂå∫Âà´">callableÊé•Âè£‰∏érunnableÊé•Âè£ÁöÑÂå∫Âà´Ôºü
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">- Áõ∏ÂêåÁÇπÔºö
</span></span><span class="line"><span class="cl">ÈÉΩÊòØÊé•Âè£ÔºåÈÉΩÂèØ‰ª•ÁºñÂÜôÂ§öÁ∫øÁ®ãÁ®ãÂ∫èÔºåÈÉΩÈááÁî®                   Thread.start()ÂêØÂä®Á∫øÁ®ã
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- ‰∏çÂêåÁÇπÔºö
</span></span><span class="line"><span class="cl">1. ÂÖ∑‰ΩìÊñπÊ≥ï‰∏çÂêåÔºö‰∏Ä‰∏™ÊòØrunÔºå‰∏Ä‰∏™ÊòØcall
</span></span><span class="line"><span class="cl">2. RunnableÊ≤°ÊúâËøîÂõûÂÄºÔºõCallableÂèØ‰ª•ËøîÂõûÊâßË°åÁªìÊûúÔºåÊòØ‰∏™Ê≥õÂûã
</span></span><span class="line"><span class="cl">3. CallableÊé•Âè£ÁöÑcall()ÊñπÊ≥ïÂÖÅËÆ∏ÊäõÂá∫ÂºÇÂ∏∏ÔºõRunnableÁöÑrun()ÊñπÊ≥ïÂºÇÂ∏∏Âè™ËÉΩÂú®ÂÜÖÈÉ®Ê∂àÂåñÔºå‰∏çËÉΩÂæÄ‰∏äÁªßÁª≠Êäõ
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="Ëé∑ÂèñÂ§öÁ∫øÁ®ãÁöÑÊñπÊ≥ï">Ëé∑ÂèñÂ§öÁ∫øÁ®ãÁöÑÊñπÊ≥ï
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‰º†ÁªüÔºö
</span></span><span class="line"><span class="cl">ÁªßÊâøthreadÁ±ª
</span></span><span class="line"><span class="cl">runnableÊé•Âè£
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">java5‰ª•ÂêéÂèàÊúâ
</span></span><span class="line"><span class="cl">ÂÆûÁé∞callableÊé•Âè£ÂíåjavaÁöÑÁ∫øÁ®ãÊ±†
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÈòªÂ°ûÈòüÂàóblockingqueue">ÈòªÂ°ûÈòüÂàóÔºàBlockingQueueÔºâ
</h2><h3 id="‰ªÄ‰πàÊòØblockingqueue">‰ªÄ‰πàÊòØBlockingQueue
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÊâÄË∞ìÈòªÂ°ûÔºåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ã‰ºöÊåÇËµ∑Á∫øÁ®ãÔºàÂç≥ÈòªÂ°ûÔºâÔºå‰∏ÄÊó¶Êù°‰ª∂Êª°Ë∂≥ÔºåË¢´ÊåÇËµ∑ÁöÑÁ∫øÁ®ãÂèà‰ºöËá™Âä®Ë¢´Âî§Ëµ∑„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><p>BlockingQueueÂç≥ÈòªÂ°ûÈòüÂàóÔºåÊòØjava.util.concurrent‰∏ãÁöÑ‰∏Ä‰∏™Êé•Âè£</p>
<p>BlockingQueueÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Â§öÁ∫øÁ®ã‰∏≠Êï∞ÊçÆÈ´òÊïàÂÆâÂÖ®‰º†ËæìËÄåÊèêÂá∫ÁöÑ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Ë¢´ÈòªÂ°ûÊÉÖÂÜµ‰∏ªË¶ÅÊúâÂ¶Ç‰∏ã‰∏§ÁßçÔºö
</span></span><span class="line"><span class="cl">1. ÂΩìÈòüÂàóÊª°‰∫ÜÁöÑÊó∂ÂÄôÔºå‰æùÁÑ∂ËøõË°åÂÖ•ÈòüÂàóÊìç‰Ωú
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. ÂΩìÈòüÂàóÁ©∫‰∫ÜÁöÑÊó∂ÂÄôÔºå‰æùÁÑ∂ËøõË°åÂá∫ÈòüÂàóÊìç‰Ωú
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÂΩì‰∏Ä‰∏™Á∫øÁ®ãËØïÂõæÂØπ‰∏Ä‰∏™Â∑≤ÁªèÊª°‰∫ÜÁöÑÈòüÂàóËøõË°åÂÖ•ÈòüÂàóÊìç‰ΩúÊó∂ÔºåÂÆÉÂ∞Ü‰ºöË¢´ÈòªÂ°ûÔºåÈô§ÈùûÊúâÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂÅö‰∫ÜÂá∫ÈòüÂàóÊìç‰ΩúÔºõ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÂΩì‰∏Ä‰∏™Á∫øÁ®ãËØïÂõæÂØπ‰∏Ä‰∏™Á©∫ÈòüÂàóËøõË°åÂá∫ÈòüÂàóÊìç‰ΩúÊó∂ÔºåÂÆÉÂ∞Ü‰ºöË¢´ÈòªÂ°ûÔºåÈô§ÈùûÊúâÂè¶‰∏Ä‰∏™Á∫øÁ®ãËøõË°å‰∫ÜÂÖ•ÈòüÂàóÊìç‰Ωú„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108182133283.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108182133283"
	
	
></p>
<h3 id="blockingqueueÊé•Âè£">BlockingQueueÊé•Âè£
</h3><p>‰∏ªË¶ÅÊúâ‰ª•‰∏ã7‰∏™ÂÆûÁé∞Á±ªÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1. ArrayBlockingQueueÔºöÁî±Êï∞ÁªÑÁªìÊûÑÁªÑÊàêÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàó„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. LinkedBlockingQueueÔºöÁî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàó„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3. PriorityBlockingQueueÔºöÊîØÊåÅ‰ºòÂÖàÁ∫ßÊéíÂ∫èÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">4. DelayQueueÔºö‰ΩøÁî®‰ºòÂÖàÁ∫ßÈòüÂàóÂÆûÁé∞ÁöÑÂª∂ËøüÊó†ÁïåÈòªÂ°ûÈòüÂàó„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">5. SynchronousQueueÔºö‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÈòªÂ°ûÈòüÂàóÔºå‰πüÂç≥Âçï‰∏™ÂÖÉÁ¥†ÁöÑÈòüÂàó„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">6. LinkedTransferQueueÔºöÁî±ÈìæË°®ÁªÑÊàêÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">7. LinkedBlockingDequeÔºöÁî±ÈìæË°®ÁªÑÊàêÁöÑÂèåÂêëÈòªÂ°ûÈòüÂàó„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈòªÂ°ûÈòüÂàóÊèê‰æõ‰ª•‰∏ã<strong>4ÁßçÂ§ÑÁêÜÊñπÊ≥ï</strong>Ôºö</p>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108183136908.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108183136908"
	
	
></p>
<h3 id="ÊäõÂá∫ÂºÇÂ∏∏">ÊäõÂá∫ÂºÇÂ∏∏
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">addÊ≠£Â∏∏ÊâßË°åËøîÂõûtrue
</span></span><span class="line"><span class="cl">elementÔºà‰∏çÂà†Èô§ÔºâÂíåremoveÔºàÂà†Èô§ÔºâËøîÂõûÈòªÂ°ûÈòüÂàó‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		ÂΩìÈòªÂ°ûÈòüÂàóÊª°Êó∂ÔºåÂÜçÂæÄÈòüÂàóÈáåaddÊèíÂÖ•ÂÖÉÁ¥†‰ºöÊäõIllegalStateException:Queue full
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		ÂΩìÈòªÂ°ûÈòüÂàóÁ©∫Êó∂ÔºåÂÜç‰ªéÈòüÂàóÈáåremoveÁßªÈô§ÂÖÉÁ¥†‰ºöÊäõNoSuchElementException
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		ÂΩìÈòªÂ°ûÈòüÂàóÁ©∫Êó∂ÔºåÂÜçË∞ÉÁî®elementÊ£ÄÊü•ÂÖÉÁ¥†‰ºöÊäõÂá∫NoSuchElementException
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÁâπÊÆäÂÄº">ÁâπÊÆäÂÄº
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÊèíÂÖ•ÊñπÊ≥ïÔºåÊàêÂäütureÂ§±Ë¥•false
</span></span><span class="line"><span class="cl">ÁßªÈô§ÊñπÊ≥ïÔºåÊàêÂäüËøîÂõûÂá∫ÈòüÂàóÁöÑÂÖÉÁ¥†ÔºåÈòüÂàóÈáåÊ≤°ÊúâÂ∞±ËøîÂõûnull
</span></span><span class="line"><span class="cl">Ê£ÄÊü•ÊñπÊ≥ïÔºåÊàêÂäüËøîÂõûÈòüÂàó‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÊ≤°ÊúâËøîÂõûnull
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÈòªÂ°û">ÈòªÂ°û
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â¶ÇÊûúËØïÂõæÁöÑÊìç‰ΩúÊó†Ê≥ïÁ´ãÂç≥ÊâßË°åÔºåËØ•ÊñπÊ≥ïË∞ÉÁî®Â∞Ü‰ºöÂèëÁîüÈòªÂ°ûÔºåÁõ¥Âà∞ËÉΩÂ§üÊâßË°å„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÂΩìÈòªÂ°ûÈòüÂàóÊª°Êó∂ÔºåÂÜçÂæÄÈòüÂàóÈáåputÂÖÉÁ¥†ÔºåÈòüÂàó‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÁîü‰∫ßËÄÖÁ∫øÁ®ãÔºåÁõ¥Âà∞putÊï∞ÊçÆorÂìçÂ∫î‰∏≠Êñ≠ÈÄÄÂá∫
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÂΩìÈòªÂ°ûÈòüÂàóÁ©∫Êó∂ÔºåÂÜç‰ªéÈòüÂàóÈáåtakeÂÖÉÁ¥†ÔºåÈòüÂàó‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÊ∂àË¥πËÄÖÁ∫øÁ®ãÔºåÁõ¥Âà∞ÈòüÂàóÂèØÁî®
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Ë∂ÖÊó∂">Ë∂ÖÊó∂
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â¶ÇÊûúËØïÂõæÁöÑÊìç‰ΩúÊó†Ê≥ïÁ´ãÂç≥ÊâßË°åÔºåËØ•ÊñπÊ≥ïË∞ÉÁî®Â∞Ü‰ºöÂèëÁîüÈòªÂ°ûÔºåÁõ¥Âà∞ËÉΩÂ§üÊâßË°åÔºå‰ΩÜÁ≠âÂæÖÊó∂Èó¥‰∏ç‰ºöË∂ÖËøáÁªôÂÆöÂÄº„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ËøîÂõû‰∏Ä‰∏™ÁâπÂÆöÂÄº‰ª•ÂëäÁü•ËØ•Êìç‰ΩúÊòØÂê¶ÊàêÂäü(ÂÖ∏ÂûãÁöÑÊòØ true / false)„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÈòªÂ°ûÈòüÂàóÊìç‰Ωú">ÈòªÂ°ûÈòüÂàóÊìç‰Ωú
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BlockingQueueDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//ÂàõÂª∫ÊúâÁïåÈòªÂ°ûÈòüÂàó ÈòüÂàóÈïøÂ∫¶‰∏∫3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">BlockingQueue</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayBlockingQueue</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Á¨¨‰∏ÄÁªÑÊñπÊ≥ïÔºöadd remove element</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queue</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&#34;a&#34;</span><span class="p">));</span><span class="w"> </span><span class="c1">//ÂÖ•Èòü,Ê≠£Â∏∏ÂàôËøîÂõûtrue</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queue</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&#34;b&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queue</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&#34;c&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// System.out.println(queue.add(&#34;d&#34;)); //ÈòüÂàóÂ∑≤Êª°‰ªçÁÑ∂ÂÖ•ÈòüÔºåÊä•ÂºÇÂ∏∏ IllegalStateExceptionÂºÇÂ∏∏</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queue</span><span class="p">.</span><span class="na">element</span><span class="p">());</span><span class="w"> </span><span class="c1">//Ëé∑ÂèñÈòüÂàó‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõû</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queue</span><span class="p">.</span><span class="na">remove</span><span class="p">());</span><span class="w"> </span><span class="c1">//Âá∫ÈòüÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËøîÂõûÂá∫ÈòüÂÖÉÁ¥†</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queue</span><span class="p">.</span><span class="na">remove</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queue</span><span class="p">.</span><span class="na">remove</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//System.out.println(queue.remove()); //ÈòüÂàóÂ∑≤Á©∫‰ªçÁÑ∂Âá∫ÈòüÔºåÊä•ÂºÇÂ∏∏ NoSuchElementException  Ê≤°ÊúâËøôÊ†∑ÁöÑÂÖÉÁ¥†ÂºÇÂ∏∏</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//System.out.println(queue.element()); //ÈòüÂàóÂ∑≤Á©∫‰ªçÁÑ∂Ëé∑ÂèñÂÖÉÁ¥†ÔºåÊä•ÂºÇÂ∏∏ NoSuchElementException Ê≤°ÊúâËøôÊ†∑ÁöÑÂÖÉÁ¥†ÂºÇÂ∏∏</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-------------------------------------------------------</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Á¨¨‰∫åÁªÑÔºöoffer poll peek</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="cm">/*System.out.println(queue.offer(&#34;a&#34;)); //ÂÖ•Èòü,Ê≠£Â∏∏ÂàôËøîÂõûtrue
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.offer(&#34;b&#34;));
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.offer(&#34;c&#34;));
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.offer(&#34;d&#34;)); //ÈòüÂàóÂ∑≤Êª°‰ªçÁÑ∂ÂÖ•Èòü, ËøîÂõûfalse
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.peek()); //Ëé∑ÂèñÈòüÂàó‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõû
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll()); //Âá∫ÈòüÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËøîÂõûÂá∫ÈòüÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll());
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll());
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll()); //ÈòüÂàóÂ∑≤Á©∫‰ªçÁÑ∂Âá∫ÈòüÔºåËøîÂõûnull
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.peek());  //ÈòüÂàóÂ∑≤Á©∫‰ªçÁÑ∂Ëé∑ÂèñÂÖÉÁ¥†ÔºåËøîÂõûnull*/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">---------------------------------------------------</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Á¨¨‰∏âÁªÑÔºöput take ************</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="cm">/*queue.put(&#34;a&#34;); //ÂÖ•Èòü
</span></span></span><span class="line"><span class="cl"><span class="cm">        queue.put(&#34;b&#34;);
</span></span></span><span class="line"><span class="cl"><span class="cm">        queue.put(&#34;c&#34;);
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.take()); //Âá∫ÈòüÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËøîÂõûÂá∫ÈòüÂÖÉÁ¥†ÔºåÂàôÂêéÈù¢‰ª£Á†Å‰∏ç‰ºöÈòªÂ°û
</span></span></span><span class="line"><span class="cl"><span class="cm">        queue.put(&#34;d&#34;); //ÈòüÂàóÂ∑≤Êª°‰ªçÁÑ∂ÂÖ•Èòü, ÂèëÁîüÈòªÂ°û
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.take()); //Âá∫ÈòüÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËøîÂõûÂá∫ÈòüÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.take());
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.take());
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.take()); //ÈòüÂàóÂ∑≤Á©∫‰ªçÁÑ∂Âá∫ÈòüÔºåÂèëÁîüÈòªÂ°û*/</span><span class="w">  </span><span class="n">ÈòªÂ°û</span><span class="err">Ôºö</span><span class="n">Á®ãÂ∫èÊ≤°ÁªàÊ≠¢</span><span class="err">Ôºå</span><span class="n">Âç°‰Ωè‰∏çÂä®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">----------------------------------------------------</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Á¨¨ÂõõÁªÑÔºöoffer poll</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="cm">/*System.out.println(queue.offer(&#34;a&#34;)); //ÂÖ•Èòü,Ê≠£Â∏∏ÂàôËøîÂõûtrue
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.offer(&#34;b&#34;));
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.offer(&#34;c&#34;));
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.offer(&#34;d&#34;, 5, TimeUnit.SECONDS)); //ÈòüÂàóÂ∑≤Êª°‰ªçÁÑ∂ÂÖ•Èòü,Ë∂ÖÊó∂ËøîÂõûfalse
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll()); //Âá∫ÈòüÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËøîÂõûÂá∫ÈòüÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll());
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll());
</span></span></span><span class="line"><span class="cl"><span class="cm">        System.out.println(queue.poll(5, TimeUnit.SECONDS)); //ÈòüÂàóÂ∑≤Á©∫‰ªçÁÑ∂Âá∫ÈòüÔºå,Ë∂ÖÊó∂ËøîÂõûnull*/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Áîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ°à‰æã">Áîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ°à‰æã
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BlockingQueueDemo2</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//ÂàõÂª∫Êó†ÁïåÈòªÂ°ûÈòüÂàó</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//BlockingQueue&lt;Integer&gt; queue = new LinkedBlockingDeque&lt;&gt;();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//ÂàõÂª∫ÊúâÁïåÈòªÂ°ûÈòüÂàóÔºöÂΩìÊ∂àË¥πÁöÑËøõÂ∫¶ËæÉÊÖ¢ÔºåÁîü‰∫ßËøõÂ∫¶ËæÉÂø´ÔºåËÄå‰∏îÈòüÂàóÊîæ‰∏ç‰∏ãÁöÑÊó∂ÂÄôÔºåÁîü‰∫ß‰ºöË¢´Ëá™Âä®ÈòªÂ°ûÔºåÁ≠âÂæÖÊ∂àË¥π</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">BlockingQueue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayBlockingQueue</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//Áîü‰∫ßËÄÖ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                     </span><span class="n">queue</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                     </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Áîü‰∫ßÁ¨¨&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;‰∏™È¶íÂ§¥Ôºå&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÁõÆÂâçËøòÂâ©&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">queue</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;‰∏™È¶íÂ§¥&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                     </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;Áîü‰∫ßËÄÖ&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//Ê∂àË¥πËÄÖ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Ê∂àË¥πÁ¨¨&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">queue</span><span class="p">.</span><span class="na">take</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;‰∏™È¶íÂ§¥&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÁõÆÂâçËøòÂâ©&#34;</span><span class="w"> </span><span class="o">+</span><span class="n">queue</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;‰∏™È¶íÂ§¥&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="s">&#34;Ê∂àË¥πËÄÖ&#34;</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="synchronousqueue">SynchronousQueue
</h3><p>‰ΩúÁî®Âú∫ÊôØÔºöÁîü‰∫ßÂπ∂Áõ¥Êé•‰∫§‰ªò</p>
<p>ËØ¶ÊÉÖÁúãÁ¨îËÆ∞</p>
<h2 id="Á∫øÁ®ãÊ±†">Á∫øÁ®ãÊ±†
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÂºÇÊ≠•Ë∞ÉÁî®ÔºöÂÅö‰∏Ä‰∫õËøúÁ®ãË∞ÉÁî®ÔºåÂæÆÊúçÂä°Ë∞ÉÁî®ÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂàõÂª∫Á∫øÁ®ãÊ±†ÔºåÈÄöËøáÁ∫øÁ®ãÊ±†Êù•ÊâßË°åËøúÁ®ãË∞ÉÁî®„ÄÇ 
</span></span><span class="line"><span class="cl">     ÂºÇÊ≠•ÊñπÂºèËøõË°åËøúÁ®ãË∞ÉÁî®Ôºö
</span></span><span class="line"><span class="cl">     6‰∏™ËøúÁ®ãÊé•Âè£Ê≤°Êúâ‰∏öÂä°‰∏äÂÖàÂêéÈ°∫Â∫èÁöÑË¶ÅÊ±ÇÔºåÂèØ‰ª•6‰∏™ËØ∑Ê±Ç‰∏ÄËµ∑ÂèëÈÄÅÔºå6‰∏™ÁªìÊûú‰∏ÄËµ∑ÂõûÊù•ÔºåÁÑ∂ÂêéÁªÑË£ÖÊï∞ÊçÆÔºåËøîÂõûÂâçÁ´Ø
</span></span><span class="line"><span class="cl">     exÔºö1s  ‰ΩÜÂêåÊ≠•Ôºö6s
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á∫øÁ®ãÊ±†ÊòØÈÄöËøáExecutorÊ°ÜÊû∂ÂÆûÁé∞ÁöÑ</p>
<p>ËØ•Ê°ÜÊû∂Áî®‰∫Ü</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Executor</span><span class="err">Ôºö</span><span class="n">execute</span><span class="p">(</span><span class="n">runnable</span><span class="w"> </span><span class="n">command</span><span class="p">)</span><span class="n">ÊâßË°å‰ªªÂä°ÁöÑÊñπÊ≥ï</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ExecutorService</span><span class="err">Ôºö</span><span class="n">ÁªßÊâøExecutor</span><span class="w">  </span><span class="n">submit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ThreadPoolExecutor</span><span class="err">Ôºö</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Á∫øÁ®ãÊ±†Ê°ÜÊû∂">Á∫øÁ®ãÊ±†Ê°ÜÊû∂
</h3><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108212314304.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108212314304"
	
	
></p>
<p><strong>ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊ±†ÂØπË±°</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÈÄöÂ∏∏‰ΩøÁî®ExecutorsÂ∑•ÂÖ∑Á±ª
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Èù¢ËØïÈ¢òÔºöexecuteÂíåsubmitÁöÑÂå∫Âà´</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1. executeÊòØExecutorÊé•Âè£ÁöÑÊñπÊ≥ï„ÄÇ
</span></span><span class="line"><span class="cl">   submitÊòØExecutorServiceÁöÑÊñπÊ≥ï
</span></span><span class="line"><span class="cl">   ExecutorServiceÊé•Âè£ÁªßÊâø‰∫ÜExecutorÊé•Âè£„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. executeÂè™Êé•ÂèóRunnableÂèÇÊï∞
</span></span><span class="line"><span class="cl">   Ê≤°ÊúâËøîÂõûÂÄº 
</span></span><span class="line"><span class="cl">   submitÂèØ‰ª•Êé•ÂèóRunnableÂèÇÊï∞ÂíåCallableÂèÇÊï∞
</span></span><span class="line"><span class="cl">   ËøîÂõû‰∫ÜFutureÂØπË±°ÔºåÂèØ‰ª•ËøõË°å‰ªªÂä°ÂèñÊ∂à„ÄÅËé∑Âèñ‰ªªÂä°ÁªìÊûú„ÄÅÂà§Êñ≠‰ªªÂä°ÊòØÂê¶ÊâßË°åÂÆåÊØï/ÂèñÊ∂àÁ≠âÊìç‰Ωú„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3. ÈÄöËøáexecuteÊñπÊ≥ïÊèê‰∫§ÁöÑ‰ªªÂä°Êó†Ê≥ïËé∑ÂèñÂÖ∑‰ΩìÁöÑÂºÇÂ∏∏‰ø°ÊÅØÔºõ
</span></span><span class="line"><span class="cl">      submitÊñπÊ≥ïÂèØ‰ª•ÈÄöËøáFutureÂØπË±°Ëé∑ÂèñÂºÇÂ∏∏‰ø°ÊÅØ„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="executorsÁ¶ÅÁî®">Executors(Á¶ÅÁî®)
</h3><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108212707893.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108212707893"
	
	
></p>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108212836879.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108212836879"
	
	
></p>
<h3 id="Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ">Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ
</h3><h4 id="Â¶Ç‰ΩïÂàõÂª∫Á∫øÁ®ãÊ±†">Â¶Ç‰ΩïÂàõÂª∫Á∫øÁ®ãÊ±†Ôºü
</h4><p>‚Äã    ‰ΩøÁî®ExecutorsÂ∑•ÂéÇ
‚Äã    ‰ΩøÁî®ThreadPoolExecutorÊûÑÈÄ†ÂáΩÊï∞</p>
<h4 id="7‰∏™ÂèÇÊï∞">7‰∏™ÂèÇÊï∞
</h4><pre><code>ThreadPoolExecutorÁöÑ‰∏É‰∏™ÂèÇÊï∞:
corePoolSizeÔºàÊ†∏ÂøÉÊ±†Â§ßÂ∞èÔºâ‰∏ç‰ºöË¢´ÂõûÊî∂
maximumPoolSizeÔºàÊúÄÂ§ßÊ±†Â§ßÂ∞èÔºâ‰ºöË¢´ÂõûÊî∂
keepAliveTimeÔºàÁ∫øÁ®ãÁ©∫Èó≤Â≠òÊ¥ªÊó∂Èó¥Ôºâ
unitÔºàÊó∂Èó¥Âçï‰ΩçÔºâ
workQueueÔºàÂ∑•‰ΩúÈòüÂàóÔºâ
		LinkedBlockingQueueÂ§ßÂ∞èÊó†ÈôêÂà∂
		ArrayBlockingQueueÂ§ßÂ∞èÊúâÈôêÔºåÂøÖÈ°ªÊåáÂÆöÂÆπÈáè
		SynchronousQueue‰∏çÂ≠òÂÇ®‰ªªÂä°,Áõ¥Êé•ÁªôÁ∫øÁ®ãÊ±†
threadFactoryÔºàÁ∫øÁ®ãÂ∑•ÂéÇÔºâ
handlerÔºàÊãíÁªùÁ≠ñÁï•Ôºâ
		AbortPolicy: Áõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏
		CallerRunsPolicyÔºöËøîÂõûÁªôË∞ÉÁî®ËÄÖÁ∫øÁ®ãÊâßË°åËØ•‰ªªÂä°
		DiscardPolicyÔºöÁõ¥Êé•‰∏¢ÂºÉËØ•‰ªªÂä°
		DiscardOldestPolicyÔºö‰∏¢ÂºÉÊúÄÊóßÁöÑ‰∏Ä‰∏™‰ªªÂä°
</code></pre>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108213032765.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108213032765"
	
	
></p>
<h4 id="Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ-1">Á∫øÁ®ãÊ±†Â∑•‰ΩúÂéüÁêÜ
</h4><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108212951920.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108212951920"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â∑•‰ΩúÂéüÁêÜ:
</span></span><span class="line"><span class="cl">	Êèê‰∫§Êñ∞‰ªªÂä°Êó∂,Á∫øÁ®ãÊ±†ËøõË°åÂà§Êñ≠ÊòØÂê¶ÊúâÁ©∫Èó≤Á∫øÁ®ã,ÊúâÂ∞±Áõ¥Êé•ÊâßË°å,Ê≤°ÊúâÂ∞±Êü•ÁúãÊòØÂê¶Âà∞ËææÊ†∏ÂøÉÁ∫øÁ®ãÊï∞,Ê≤°ÊúâÂ∞±ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊâßË°å,
</span></span><span class="line"><span class="cl">	Â¶ÇÊûúËææÂà∞Ê†∏ÂøÉÁ∫øÁ®ãÊï∞‰ΩÜ‰ªªÂä°ÈòüÂàóÊúâÁ©∫Èó¥,ËøõÂÖ•‰ªªÂä°ÈòüÂàó,
</span></span><span class="line"><span class="cl">	Â¶ÇÊûú‰ªªÂä°ÈòüÂàó‰πüÂ∑≤ÁªèÊª°‰∫Ü,Êü•ÁúãÊòØÂê¶Âà∞ËææÊúÄÂ§ßÁ∫øÁ®ãÊï∞,Ê≤°ÊúâÂà∞ËææÊúÄÂ§ßÁ∫øÁ®ãÊï∞Â∞±ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ã,Ëã•Âà∞ËææÊúÄÂ§ßÁ∫øÁ®ãÊï∞,ÊâßË°åÊãíÁªùÁ≠ñÁï•
</span></span><span class="line"><span class="cl">	ÂΩìÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°ÊâßË°åÂÆå,Á∫øÁ®ãÁ©∫Èó≤Êó∂Èó¥Âà∞ËææÈ¢ÑËÆæÊó∂Èó¥,ÈîÄÊØÅË∂ÖÂá∫Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÁöÑÁ∫øÁ®ã
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ËôΩÁÑ∂‰πüÊòØÊúâËØ∑Ê±ÇÂ∞±ÂàõÂª∫Ôºå‰ΩÜÂÆÉ‰ºöÂà§Êñ≠ÔºåÂ¶ÇÊûúÊª°‰∫ÜÂ∞±ÂéªÂà§Êñ≠‰ªªÂä°ÈòüÂàóÔºå‰ªªÂä°ÈòüÂàóÂ¶ÇÊûúÊª°‰∫Ü‰ºöÂèñÂà§Êñ≠ÊúÄÂ§ßÁ∫øÁ®ãÊ±†ÔºåÊúÄÂêéËøòÊòØ‰∏çÂ§ü‰ºö‰∫§ÁªôÊãíÁªùÁ≠ñÁï•Â§ÑÁêÜ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Âπ∂‰∏çÊòØÊó†ÊâÄËäÇÂà∂ÁöÑÂàõÂª∫Á∫øÁ®ã**
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÂåÖÊã¨Ê†∏ÂøÉÁ∫øÁ®ãÊï∞
</span></span><span class="line"><span class="cl">Ê≥®ÊÑèÔºåÈòüÂàóËã•Êª°ÔºåÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÊúâÁ©∫Ôºå‰ºöÁõ¥Êé•ÂàõÂª∫Êñ∞Á∫øÁ®ãÊâßË°åÔºåÂπ∂‰∏ç‰ºöËÆ©ÂØπÂ§¥Âá∫Èòü
</span></span><span class="line"><span class="cl">ÊØîÂ¶Ç13Êù•‰∫ÜÔºåÂéªÂàõÂª∫13ÁöÑ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">‰∏∫‰ªÄ‰πàÔºüÂõ†‰∏∫ËøôÊ†∑ÊØîÂá∫ÈòüÁõ∏ÁéáÊõ¥È´ò
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108213131757.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108213131757"
	
	
></p>
<h4 id="ÊãíÁªùÁ≠ñÁï•">ÊãíÁªùÁ≠ñÁï•
</h4><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108213245053.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108213245053"
	
	
></p>
<p>‰ª•‰∏äÂÜÖÁΩÆÁöÑÁ≠ñÁï•ÂùáÂÆûÁé∞‰∫ÜRejectedExecutionHandlerÊé•Âè£Ôºå<code>‰πüÂèØ‰ª•Ëá™Â∑±Êâ©Â±ïRejectedExecutionHandlerÊé•Âè£</code>ÔºåÂÆö‰πâËá™Â∑±ÁöÑÊãíÁªùÁ≠ñÁï•</p>
<p>ÂÆûÈôÖ‰∏öÂä°Âì™‰∏™ÈÉΩÂü∫Êú¨‰∏çÁî®ÔºåÊúÄÂ∏∏Áî®ÁöÑÊòØËá™ÂÆö‰πâÊãíÁªùÁ≠ñÁï•ÔºàÁ∫øÁ®ãÁù°‰∏ÄËßâÁ≠âËá™ÂÆö‰πâÈ•±ÂíåÊãíÁªùÁ≠ñÁï•Ôºâ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â≠òÂÇ®‰ªªÂä°ÔºåÂ∞ÜÊù•‰∫∫Â∑•Â§ÑÁêÜ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÂèëÈÇÆ‰ª∂„ÄÅÂèëÁü≠‰ø°Ë≠¶Âëä
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Áù°‰∏Ä‰ºöÔºåÂÜçÊ¨°Â∞Ü‰ªªÂä°Êèê‰∫§Á∫øÁ®ãÊ±†Â§ÑÁêÜ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Á≠âÁ≠âÁ≠â
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Ëá™ÂÆö‰πâÁ∫øÁ®ãÊ±†">Ëá™ÂÆö‰πâÁ∫øÁ®ãÊ±†
</h3><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108213428558.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108213428558"
	
	
></p>
<p>Ê°à‰æãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.atguigu.demojuc.chap08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">MyRunnable</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Runnable</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">param</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MyRunnable</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">param</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="s">&#34; Runnable......&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">param</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CustomizeThreadPoolDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Ëá™ÂÆö‰πâËøûÊé•Ê±†</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ExecutorService</span><span class="w"> </span><span class="n">threadPool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">2</span><span class="p">,</span><span class="c1">//Ê†∏ÂøÉÁ∫øÁ®ãÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">5</span><span class="p">,</span><span class="c1">//ÊúÄÂ§ßÁ∫øÁ®ãÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">2</span><span class="p">,</span><span class="c1">//Á≠âÂæÖÁ©∫Èó≤Êó∂Èó¥ÔºåÊó∂Èó¥Âà∞Ëææ‰ºöÈîÄÊØÅÈùûÊ†∏ÂøÉÁ∫øÁ®ãÊï∞„ÄÇÊ†∏ÂøÉÁ∫øÁ®ã‰∏çÈîÄÊØÅ    0Â∞±ÊòØ‰∏çÈîÄÊØÅ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">,</span><span class="c1">//Êó∂Èó¥Âçï‰Ωç</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayBlockingQueue</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">3</span><span class="p">),</span><span class="c1">//‰ªªÂä°Á≠âÂæÖÈòüÂàó</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Executors</span><span class="p">.</span><span class="na">defaultThreadFactory</span><span class="p">(),</span><span class="c1">//Á∫øÁ®ãÂ∑•ÂéÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">ThreadPoolExecutor</span><span class="p">.</span><span class="na">AbortPolicy</span><span class="p">()</span><span class="w"> </span><span class="c1">//È•±ÂíåÊãíÁªùÁ≠ñÁï•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//‰∏¢ÂºÉ‰ªªÂä°Âπ∂ÊäõÂá∫ÂºÇÂ∏∏</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//new ThreadPoolExecutor.CallerRunsPolicy() //Áî±Ë∞ÉÁî®Á∫øÁ®ãÂ§ÑÁêÜËØ•‰ªªÂä°ÔºåË∞ÅË∞ÉÁî®Ë∞ÅÂ§ÑÁêÜ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//new ThreadPoolExecutor.DiscardOldestPolicy() //‰∏¢ÂºÉÈòüÂàó‰∏≠Á≠âÂæÖÊúÄ‰πÖÁöÑ‰ªªÂä°ÔºåÊ∑ªÂä†Êñ∞‰ªªÂä°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//new ThreadPoolExecutor.DiscardPolicy() //‰πüÊòØ‰∏¢ÂºÉ‰ªªÂä°Ôºå‰ΩÜÊòØ‰∏çÊäõÂá∫ÂºÇÂ∏∏„ÄÇ </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="cm">/*new RejectedExecutionHandler() {
</span></span></span><span class="line"><span class="cl"><span class="cm">                    @Override
</span></span></span><span class="line"><span class="cl"><span class="cm">                    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {
</span></span></span><span class="line"><span class="cl"><span class="cm">                        System.out.println(&#34;Ëá™ÂÆö‰πâÊãíÁªùÁ≠ñÁï•&#34;);
</span></span></span><span class="line"><span class="cl"><span class="cm">                    }
</span></span></span><span class="line"><span class="cl"><span class="cm">                }*/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">9</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//execute()ÊñπÊ≥ïÂè™ËÉΩÊé•Êî∂RunnableÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">threadPool</span><span class="p">.</span><span class="na">execute</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//submit()ÊñπÊ≥ïÂèØ‰ª•Êé•Êî∂RunnableÊàñCallable Êé®Ëçê</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//threadPool.submit(() -&gt; { //ËøôÈáå‰πüÂèØ‰ª•‰ΩøÁî®submit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;ÊâßË°å‰∫Ü‰∏öÂä°ÈÄªËæë&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">threadPool</span><span class="p">.</span><span class="na">shutdown</span><span class="p">();</span><span class="c1">//ÂÖ≥Èó≠Á∫øÁ®ãÊ±†Ôºå‰ΩÜÂÆûÈôÖ‰∏öÂä°Âü∫Êú¨‰∏çÂÖ≥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊÄªÁªì">ÊÄªÁªì
</h3><p>Á∫øÁ®ãÊ±†‰∏ªË¶Å‰ΩúÁî®Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÊúâÊïàÂú∞ÁÆ°ÁêÜÂíåÂ§çÁî®Á∫øÁ®ãÔºå‰ª•ÊèêÈ´òÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÂíåËµÑÊ∫êÂà©Áî®Áéá„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ºòÁÇπ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">1</span><span class="p">.</span><span class="w"> </span><span class="n">Á∫øÁ®ãÂ§çÁî®</span><span class="err">Ôºö</span><span class="n">Á∫øÁ®ãÊ±†‰ºöÂú®Ê±†‰∏≠Áª¥Êä§‰∏ÄÁªÑÂèØÈáçÁî®ÁöÑÁ∫øÁ®ã</span><span class="err">Ôºå</span><span class="n">Ëøô‰∫õÁ∫øÁ®ãÂèØ‰ª•ÂèçÂ§çÊâßË°å‰ªªÂä°</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Á∫øÁ®ãÁöÑÂ§çÁî®ÂáèÂ∞ë‰∫ÜÁ∫øÁ®ãÂàõÂª∫ÂíåÈîÄÊØÅÁöÑÂºÄÈîÄ</span><span class="err">Ôºå</span><span class="n">ÊèêÈ´ò‰∫ÜÊâßË°å‰ªªÂä°ÁöÑÊïàÁéá</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//---------------------------</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">2</span><span class="p">.</span><span class="w"> </span><span class="n">‰ªªÂä°ÈòüÂàó</span><span class="err">Ôºö</span><span class="n">Á∫øÁ®ãÊ±†ÈÄöÂ∏∏‰∏é‰ªªÂä°ÈòüÂàóÁªìÂêà‰ΩøÁî®</span><span class="err">Ôºå</span><span class="n">Â∞ÜÂæÖÊâßË°åÁöÑ‰ªªÂä°ÊéíÈòüÁ≠âÂæÖÊâßË°å</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ËøôÂÖÅËÆ∏‰ªªÂä°ÊåâÈ°∫Â∫èÊâßË°å</span><span class="err">Ôºå</span><span class="n">ÊéßÂà∂Âπ∂ÂèëÂ∫¶</span><span class="err">Ôºå</span><span class="n">Èò≤Ê≠¢‰ªªÂä°ËøáÂ§öÂØºËá¥ËµÑÊ∫êËÄóÂ∞Ω</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//-------------------------</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">3</span><span class="p">.</span><span class="w"> </span><span class="n">Á∫øÁ®ãÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ</span><span class="err">Ôºö</span><span class="n">Á∫øÁ®ãÊ±†ÂèØ‰ª•ÁÆ°ÁêÜÁ∫øÁ®ãÁöÑÁîüÂëΩÂë®Êúü</span><span class="err">Ôºå</span><span class="n">ÂåÖÊã¨Á∫øÁ®ãÁöÑÂàõÂª∫</span><span class="err">„ÄÅ</span><span class="n">ÈîÄÊØÅ</span><span class="err">„ÄÅ</span><span class="n">Ë∂ÖÊó∂Â§ÑÁêÜÁ≠â</span><span class="err">„ÄÇ</span><span class="p">(</span><span class="n">Á∫øÁ®ãÂ∑•ÂéÇÁÆ°Á∫øÁ®ãÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ËøôÊúâÂä©‰∫éÂáèÂ∞ëËµÑÊ∫êÊ≥ÑÊºèÂíåÊèêÈ´òÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄß</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//----------------------------</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">4</span><span class="p">.</span><span class="w"> </span><span class="n">ÂèØÊéßÊÄß</span><span class="err">Ôºö</span><span class="n">Á∫øÁ®ãÊ±†ÂÖÅËÆ∏ÊÇ®ÊéßÂà∂Á∫øÁ®ãÁöÑÊï∞Èáè</span><span class="err">„ÄÅ</span><span class="n">ÊúÄÂ§ßÂπ∂ÂèëÊï∞</span><span class="err">„ÄÅ</span><span class="n">Á∫øÁ®ã‰ºòÂÖàÁ∫ßÁ≠âÂèÇÊï∞</span><span class="err">Ôºå</span><span class="n">‰ª•Êª°Ë∂≥‰∏çÂêåÂ∫îÁî®Âú∫ÊôØÁöÑÈúÄÊ±Ç</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">ÂºπÊÄß‰º∏Áº©</span><span class="err">Ôºå</span><span class="n">Â∞ë‰∫Ü</span><span class="o">--&gt;</span><span class="n">ÊúÄÂ∞è</span><span class="w">  </span><span class="n">Â§ö‰∫Ü</span><span class="o">--&gt;</span><span class="n">ÊúÄÂ§ß</span><span class="err">Ôºå</span><span class="n">ÂÜçÂ§öÂ∞±ÊãíÁªùÁ≠ñÁï•Â§ÑÁêÜ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="Â§öÁ∫øÁ®ãÈ´òÂπ∂ÂèëÂ∫ïÂ±ÇÂéüÁêÜ">Â§öÁ∫øÁ®ãÈ´òÂπ∂ÂèëÂ∫ïÂ±ÇÂéüÁêÜ
</h2><h3 id="javaÂÜÖÂ≠òÊ®°Âûãjmm">JavaÂÜÖÂ≠òÊ®°Âûã(JMM)
</h3><p>ËÆ°ÁÆóÊú∫Á°¨‰ª∂</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">CPU ÈÄöËøáCPUÁºìÂ≠òÂíåCPUÂØÑÂ≠òÂô®Êù•ÊèêÈ´òÊï∞ÊçÆËÆøÈóÆÈÄüÂ∫¶ÔºåÂáèÂ∞ëÂØπRAMÁöÑËÆøÈóÆÊ¨°Êï∞ÔºåÊèêÈ´òÂØπRAMÁöÑËÆøÈóÆÊïàÁéáÔºå‰ªéËÄåÊèêÈ´òËÆ°ÁÆóÊú∫ÁöÑÊÄßËÉΩ„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÔºàROMÂè™ËØª‰∏çËÉΩÂÜôÔºâ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÔºàRAMÈöèÊú∫Â≠òÂèñÂ≠òÂÇ®Âô® ËÉΩËØªËÉΩÂÜôÔºâ
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">     JMMÂ±èËîΩ‰∫ÜÂ±èËîΩÁ≥ªÁªüÂíåÁ°¨‰ª∂ÁöÑÂ∑ÆÂºÇ
</span></span><span class="line"><span class="cl">     ÊïÖjava‰∏ÄÊ¨°ÁºñËØëÂà∞Â§ÑËøêË°å
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<p>JMMËßÑÂÆö‰∫ÜÂÜÖÂ≠ò‰∏ªË¶ÅÂàíÂàÜ‰∏∫<strong>‰∏ªÂÜÖÂ≠ò</strong>Âíå<strong>Â∑•‰ΩúÂÜÖÂ≠ò</strong>‰∏§Áßç„ÄÇ</p>
<p><strong>‰∏ªÂÜÖÂ≠òÂØπÂ∫îÁöÑÊòØÁ°¨‰ª∂ÁöÑÁâ©ÁêÜÂÜÖÂ≠ò</strong></p>
<p><strong>Â∑•‰ΩúÂÜÖÂ≠òÂØπÂ∫îÁöÑÊòØÂØÑÂ≠òÂô®ÂíåÈ´òÈÄüÁºìÂ≠ò</strong>„ÄÇ</p>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108184630629.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108184630629"
	
	
></p>
<ul>
<li>
<p><strong>ÂÖ±‰∫´ÂèòÈáè</strong>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â¶ÇÊûú‰∏Ä‰∏™ÂèòÈáèË¢´Â§ö‰∏™Á∫øÁ®ã‰ΩøÁî®ÔºåÈÇ£‰πàËøô‰∏™ÂèòÈáè‰ºöÂú®ÊØè‰∏™Á∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠‰øùÊúâ‰∏Ä‰∏™ÂâØÊú¨ÔºåËøôÁßçÂèòÈáèÂ∞±ÊòØÂÖ±‰∫´ÂèòÈáè„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Êï∞ÊçÆÊîæ‰∏ªÂÜÖÂ≠ò‰∏≠Ôºå‰∏∫‰ªÄ‰πàÊòØÂÖ±‰∫´Ôºö
</span></span><span class="line"><span class="cl">Âõ†‰∏∫Êï∞ÊçÆË¢´Â§ö‰∏™Á∫øÁ®ãÂÖ±‰∫´
</span></span><span class="line"><span class="cl">‰ΩÜÊòØÂõ†‰∏∫ÂÜôÊìç‰ΩúÊó†Ê≥ïÂπ∂ÂèëÔºå
</span></span><span class="line"><span class="cl">ÊïÖÁ∫øÁ®ãË¶ÅÊìç‰ΩúÂÖ±‰∫´ÂèòÈáèÔºå‰ºöÂ∞ÜÂÖ±‰∫´ÂèòÈáèÊã∑Ë¥ù‰∏Ä‰ªΩÔºåÊîæÂà∞ÂΩìÂâçÁ∫øÁ®ãÁöÑÊú¨Âú∞ÂÜÖÂ≠òÂΩì‰∏≠Êù•ËøõË°åÊï∞ÊçÆÁöÑÂ§ÑÁêÜ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Êï∞ÊçÆÊîπ‰∫ÜÂêéÂÜçÂÜôÂõû‰∏ªÂÜÖÂ≠òÔºåËøôÂè´ÂÅöÊï∞ÊçÆÁöÑÂêåÊ≠•
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>‰∏ªÂÜÖÂ≠ò</strong>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‰øùÂ≠ò‰∫ÜÊâÄÊúâÁöÑÂÖ±‰∫´ÂèòÈáè„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>Â∑•‰ΩúÂÜÖÂ≠ò</strong>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâËá™Â∑±ÁöÑÂ∑•‰ΩúÂÜÖÂ≠òÔºåÁ∫øÁ®ãÁã¨‰∫´Ôºå‰øùÂ≠ò‰∫ÜÁ∫øÁ®ãÁî®Âà∞ÁöÑÂèòÈáèÂâØÊú¨Ôºà‰∏ªÂÜÖÂ≠òÂÖ±‰∫´ÂèòÈáèÁöÑ‰∏Ä‰ªΩÊã∑Ë¥ùÔºâ„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>JMM</strong>ÂØπÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÊìç‰ΩúÂÅöÂá∫‰∫ÜÂ¶Ç‰∏ã‰∏§Êù°ËßÑÂÆöÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">- Á∫øÁ®ãÂØπÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩÂøÖÈ°ªÂú®Ëá™Â∑±ÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ËøõË°åÔºå‰∏çËÉΩÁõ¥Êé•‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ËØªÂÜôÔºõ
</span></span><span class="line"><span class="cl">Êï∞ÊçÆÊîπ‰∫ÜÂêéÂÜçÂÜôÂõû‰∏ªÂÜÖÂ≠òÔºåËøôÂè´ÂÅöÊï∞ÊçÆÁöÑÂêåÊ≠•
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- ‰∏çÂêåÁ∫øÁ®ãÊó†Ê≥ïÁõ¥Êé•ËÆøÈóÆÂÖ∂‰ªñÁ∫øÁ®ãÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑÂèòÈáèÔºåÂõ†Ê≠§ÂÖ±‰∫´ÂèòÈáèÁöÑÂÄº‰º†ÈÄíÈúÄË¶ÅÈÄöËøá‰∏ªÂÜÖÂ≠òÂÆåÊàê„ÄÇ
</span></span><span class="line"><span class="cl">Âè™ÊúâÂ∞ÜÊîπÂêéÊï∞ÊçÆÂÜôÂõûÂà∞‰∏ªÂÜÖÂ≠ò‰∏≠ÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂ∞ÜÂÖ∂‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ËØªËµ∞ÊâçËÉΩËé∑ÂæóÊúÄÊñ∞Êï∞ÊçÆ
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>avaÂÜÖÂ≠òÊ®°ÂûãÁöÑ‰∏âÂ§ßÁâπÊÄß</p>
<ul>
<li>ÂèØËßÅÊÄß</li>
<li>ÊúâÂ∫èÊÄß</li>
<li>ÂéüÂ≠êÊÄß</li>
</ul>
<h3 id="volatileÂÖ≥ÈîÆÂ≠ó">volatileÂÖ≥ÈîÆÂ≠ó
</h3><h4 id="ÂèØËßÅÊÄß">ÂèØËßÅÊÄß
</h4><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108190158199.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108190158199"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‰ΩøÁî®volatileÂÖ≥ÈîÆÂ≠óÂèØ‰ª•Á°Æ‰øùÂÖ±‰∫´ÂèòÈáèÁöÑÂèØËßÅÊÄß
</span></span><span class="line"><span class="cl">ÂΩì‰∏Ä‰∏™ÂèòÈáèË¢´Â£∞Êòé‰∏∫volatileÊó∂
</span></span><span class="line"><span class="cl">           ÊØèÊ¨°ËÆøÈóÆËØ•ÂèòÈáèÊó∂ÈÉΩ‰ºö‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ËØªÂèñÊúÄÊñ∞ÁöÑÂÄº
</span></span><span class="line"><span class="cl">           Âπ∂‰∏îÂØπËØ•ÂèòÈáèÁöÑ‰øÆÊîπ‰ºöÁ´ãÂç≥ÂÜôÂÖ•‰∏ªÂÜÖÂ≠òÔºåËÄå‰∏çÊòØÂÖàÂÜôÂÖ•ÁºìÂ≠ò
</span></span><span class="line"><span class="cl">           
</span></span><span class="line"><span class="cl">ÈÅøÂÖç‰∫ÜÂú®Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÂá∫Áé∞Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò
</span></span><span class="line"><span class="cl">Âõ†‰∏∫‰ªª‰ΩïÂØπvolatileÂèòÈáèÁöÑ‰øÆÊîπÈÉΩ‰ºöÁ´ãÂç≥ÂèØËßÅ‰∫éÂÖ∂‰ªñÁ∫øÁ®ã
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÊúâÂ∫èÊÄß">ÊúâÂ∫èÊÄß
</h4><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108190550432.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108190550432"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â∞ÜÂèòÈáèÂ£∞Êòé‰∏∫volatile
</span></span><span class="line"><span class="cl">ÂèØ‰ª•ÈÅøÂÖçÊåá‰ª§ÈáçÊéíÁöÑ‰ºòÂåñÊú∫Âà∂Ôºå‰øùËØÅÊåá‰ª§ÁöÑÊâßË°åÈ°∫Â∫è‰∏éÊ∫ê‰ª£Á†Å‰∏≠ÁöÑÈ°∫Â∫è‰∏ÄËá¥
</span></span><span class="line"><span class="cl">‰ª•ÈÅøÂÖçÂ§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÁöÑÈîôËØØ
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂéüÂ≠êÊÄß">ÂéüÂ≠êÊÄß
</h4><p>‰ªé0Âà∞1000</p>
<p>1000‰∏™Á∫øÁ®ãÊâßË°å++numberÊìç‰ΩúÔºåÂ¶ÇÊûú++numberÊìç‰ΩúÂÖ∑Â§áÂéüÂ≠êÊÄßÔºåÊúÄÂêéÁöÑÂÄºÂ∫îËØ•ÊòØ1000„ÄÇËØ¥Êòé++number<strong>‰∏çÂÖ∑Â§áÂéüÂ≠êÊÄß</strong>„ÄÇ</p>
<p>ÁªônumberÊ∑ªÂä†volatileÂÖ≥ÈîÆÂ≠ó</p>
<p>ÊµãËØïÁªìÊûú‰æùÁÑ∂‰∏çÊòØ1000</p>
<p>Â∞ùËØïÁªô++numberÊñπÊ≥ïÂä†ÂêåÊ≠•ÈîÅ</p>
<p>ÁªìÊûúËææÊàê</p>
<p><strong>ËØ¥ÊòévolatileÂÖ≥ÈîÆÂ≠ó‰∏çËÉΩ‰øùËØÅÂéüÂ≠êÊÄß„ÄÇ</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">volatileÂÖ≥ÈîÆÂ≠óÂè™ËÉΩ‰øùËØÅÂçï‰∏™ÂèòÈáèÁöÑÂèØËßÅÊÄßÔºåÂπ∂‰∏çËÉΩËß£ÂÜ≥ÂéüÂ≠êÊÄßÈóÆÈ¢ò„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÂØπ‰∫éÂéüÂ≠êÊÄßÈúÄÊ±ÇÔºåÈúÄË¶Å‰ΩøÁî®Êõ¥Âº∫Â§ßÁöÑÂêåÊ≠•Êú∫Âà∂ÔºåÂ¶ÇÈîÅ„ÄÅÂéüÂ≠êÊìç‰ΩúÁ≠â„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="‰øùËØÅ‰∏âÂ§ßÁâπÊÄß">‰øùËØÅ‰∏âÂ§ßÁâπÊÄß
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÂèØËßÅÊÄßÔºö
</span></span><span class="line"><span class="cl">       ‰ΩøÁî®volatileÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÂèòÈáèÔºåÁ°Æ‰øù‰øÆÊîπÂØπ‰∫éÊâÄÊúâÁ∫øÁ®ãÁ´ãÂç≥ÂèØËßÅ
</span></span><span class="line"><span class="cl">       
</span></span><span class="line"><span class="cl">ÊúâÂ∫èÊÄßÔºö
</span></span><span class="line"><span class="cl">       volatile‰øùËØÅÂØπËØ•ÂèòÈáèÁöÑËØªÂÜôÊìç‰ΩúÊòØÊúâÂ∫èÁöÑÔºåÁ¶ÅÊ≠¢ÈáçÊéíÂ∫è
</span></span><span class="line"><span class="cl">ÂéüÂ≠êÊÄßÔºö
</span></span><span class="line"><span class="cl">      synchronizedÂêåÊ≠•ÈîÅÁ°Æ‰øùÂØπÂÖ±‰∫´ÂèòÈáèÁöÑÊìç‰ΩúÊòØÂéüÂ≠êÁöÑ
</span></span><span class="line"><span class="cl">      atomicÊèê‰æõÁöÑÂéüÂ≠êÁ±ªAtomicInteger„ÄÅAtomicLongÁ≠â
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="cas">CAS
</h3><h3 id="aqs">AQS
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">AbstractQueuedSynchronizerÊäΩË±°ÈòüÂàóÂêåÊ≠•Âô®ÁÆÄÁß∞AQS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÊòØÊï¥‰∏™java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">concurrentÂåÖÁöÑÊ†∏ÂøÉ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">AQSÊ°ÜÊû∂Êèê‰æõ‰∫Ü‰∏ÄÂ•óÈÄöÁî®ÁöÑÊú∫Âà∂Êù•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ÁÆ°ÁêÜÂêåÊ≠•Áä∂ÊÄÅ</span><span class="err">Ôºà</span><span class="n">synchronization</span><span class="w"> </span><span class="n">state</span><span class="err">Ôºâ„ÄÅ</span><span class="n">ÈòªÂ°û</span><span class="o">/</span><span class="n">Âî§ÈÜíÁ∫øÁ®ã</span><span class="err">„ÄÅ</span><span class="n">ÁÆ°ÁêÜÁ≠âÂæÖÈòüÂàó</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">JUC‰∏ãÁöÑLock</span><span class="err">Ôºà</span><span class="n">ReentrantLock</span><span class="err">„ÄÅ</span><span class="n">ReentrantReadWriteLockÁ≠â</span><span class="err">Ôºâ</span><span class="n">‰ª•ÂèäÂπ∂ÂèëÂ∑•ÂÖ∑Á±ª</span><span class="err">Ôºà</span><span class="n">Semaphore</span><span class="err">„ÄÅ</span><span class="n">CountDownLatch</span><span class="err">„ÄÅ</span><span class="n">CyclicBarrierÁ≠â</span><span class="err">Ôºâ</span><span class="n">Â∞±ÊòØÈÄöËøáAQSÂÆûÁé∞ÁöÑ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="‰ªÄ‰πàÊòØaqs"><strong>‰ªÄ‰πàÊòØAQS</strong>
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‰∏Ä‰∏™Áä∂ÊÄÅÂÄº+ÂèåÁ´ØÈòüÂàó(FIFO)ÔºàÂ∑¶ËøõÂè≥Âá∫ÔºåÂè≥ËøõÂ∑¶Âá∫Ôºâ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- FIFOÔºöÊÑèÂë≥ÁùÄÁ≠âÂæÖÊó∂Èó¥ÊúÄÈïøÁöÑÁ∫øÁ®ãÂ∞ÜÈ¶ñÂÖàËé∑ÂæóÈîÅÊàñËµÑÊ∫êÔºàÂÖ¨Âπ≥ÈîÅÊéíÈòüÔºâ„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- ÂèåÂêëÈòüÂàóÔºöÊÑèÂë≥ÁùÄÂÖÅËÆ∏Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂‰ªéÈòüÂàóÁöÑ‰∏§Á´ØËøõË°åÊèíÂÖ•„ÄÅÂà†Èô§ÂíåÊü•ÊâæÊìç‰ΩúÔºàÈùûÂÖ¨Âπ≥ÈîÅÊèíÈòüÔºâ„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÈòüÂàóÈáåÊîæÁ≠âÂæÖÁöÑÁ∫øÁ®ã
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108192703362.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108192703362"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ËØ∑Ê±ÇËé∑ÂèñÈîÅ-&gt;ÂÖ•Èòü
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Â§öÁ∫øÁ®ãÂπ∂ÂèëÊâßË°å‰ªªÂä°ÔºåÂä†ÈîÅ
</span></span><span class="line"><span class="cl">ÊÄé‰πàÂä†Ôºö
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Á∫øÁ®ãÂéªÊä¢AQSÁ±ªÈáåstateÂ±ûÊÄß(ËµÑÊ∫ê)ÔºåÂàùÂßã‰∏∫0Ë°®Á§∫ÈîÅÊ≤°‰∫∫Áî®ÔºåÊä¢Âà∞‰∫ÜÂêé0Âèò‰∏∫1.Âèò‰∏∫1ÂêéÂÖ∂‰ªñÁ∫øÁ®ãÂ∞±‰∏çËÉΩÊä¢ÔºåÂæóÂú®ÈòüÂàóÈáåÊéíÈòüÔºåÁõ¥Âà∞stateÂèò‰∏∫0(Á∫øÁ®ã‰ªªÂä°ÊâßË°åÂÆå‰∫Ü ‰πüÂ∞±ÊòØÈáäÊîæÈîÅ)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÂÖ¨Âπ≥ÈîÅÔºöÊéíÈòü‰ΩøÁî® ÂÖ¨Âπ≥ÈîÅÊåáÁöÑÊòØÊåâÁÖßÁ∫øÁ®ãËØ∑Ê±ÇÁöÑÈ°∫Â∫èÔºåÊù•ÂàÜÈÖçÈîÅ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÈùûÂÖ¨Âπ≥ÈîÅÔºö ‰∏ÄÂÆöÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•ÂÖÅËÆ∏ÊèíÈòü
</span></span><span class="line"><span class="cl">ÂΩìÂâçÁ∫øÁ®ãÂú®ËØ∑Ê±ÇËé∑ÂèñÈîÅÁöÑÊó∂ÂÄôÔºåÊÅ∞Â∑ßÂâç‰∏Ä‰∏™ÊåÅÊúâÈîÅÁöÑÁ∫øÁ®ãÈáäÊîæ‰∫ÜËøôÊääÈîÅÔºåÈÇ£‰πàÂΩìÂâçÁî≥ËØ∑ÈîÅÁöÑÁ∫øÁ®ãÂ∞±ÂèØ‰ª•‰∏çÈ°æÂ∑≤ÁªèÁ≠âÂæÖÁöÑÁ∫øÁ®ãËÄåÈÄâÊã©Á´ãÂàªÊèíÈòü„ÄÇ
</span></span><span class="line"><span class="cl">‰ΩÜÊòØÂ¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÂâç‰∏Ä‰∏™Á∫øÁ®ãÂπ∂Ê≤°ÊúâÂú®ÈÇ£‰∏ÄÊó∂ÂàªÈáäÊîæÈîÅÔºåÈÇ£‰πàÂΩìÂâçÁ∫øÁ®ãËøòÊòØ‰∏ÄÊ†∑‰ºöËøõÂÖ•Á≠âÂæÖÈòüÂàó„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>state Â±ûÊÄß</strong>ÔºöË°®Á§∫ËµÑÊ∫êÁöÑÁä∂ÊÄÅ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">- ÂØπ‰∫éReentrantLockÊù•ËØ¥Ôºåstate=1ÔºåË°®Á§∫ËµÑÊ∫êË¢´Âç†Áî®Ôºõstate=0ÔºåË°®Á§∫ËµÑÊ∫êÊ≤°ÊúâË¢´Âç†Áî®„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- ÂØπ‰∫éCountDownLatchÊù•ËØ¥Ôºåstate=0ÔºåË°®Á§∫ËÆ°Êï∞Âô®ÂΩíÈõ∂ÔºåÊâÄÊúâÁ∫øÁ®ãÈÉΩÂèØ‰ª•ËÆøÈóÆËµÑÊ∫êÔºõstate‰∏∫NË°®Á§∫ËÆ°Êï∞Âô®Êú™ÂΩíÈõ∂ÔºåÊâÄÊúâÁ∫øÁ®ãÈÉΩÈúÄË¶ÅÈòªÂ°û„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="reentrantlock">ReentrantLock
</h2><p>ÈªòËÆ§ÈùûÂÖ¨Âπ≥ÈîÅ</p>
<p><img src="C:%5cUsers%5cwzt%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20250108194314586.png"
	
	
	
	loading="lazy"
	
		alt="image-20250108194314586"
	
	
></p>
<p>Âú®ReentrantLockÁ±ª‰∏≠ÂåÖÂê´‰∫Ü3‰∏™AQSÁöÑÂÆûÁé∞Á±ªÔºö</p>
<ol>
<li>ÊäΩË±°Á±ªSync</li>
<li>ÈùûÂÖ¨Âπ≥ÈîÅÂÆûÁé∞Á±ªNonfaireSync</li>
<li>ÂÖ¨Âπ≥ÈîÅÂÆûÁé∞Á±ªFairSync</li>
</ol>
<h3 id="‰∏äÈîÅË∞ÉËØïÂÖ¨Âπ≥ÈîÅËß£ÈîÅ">‰∏äÈîÅÔºåË∞ÉËØïÂÖ¨Âπ≥ÈîÅÔºåËß£ÈîÅ
</h3><p>ËØ¶ÊÉÖÁúãÁ¨îËÆ∞</p>
<h3 id="aqsÁöÑÂ∫ïÂ±ÇÂéüÁêÜ">AQSÁöÑÂ∫ïÂ±ÇÂéüÁêÜ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">AQS‰ΩøÁî®‰∏Ä‰∏™volatileÊàêÂëòÂèòÈáèstateÊù•Ë°®Á§∫ÈîÅÊòØÂê¶Â∑≤Ë¢´ÊåÅÊúâÔºåÈÄöËøáÂÜÖÁΩÆÁöÑFIFOÈòüÂàóÂ≠òÂÇ®Ë¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ã„ÄÇ
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">AQS‰ΩøÁî®CASÊú∫Âà∂ÂØπstateËøõË°åÂéüÂ≠êÊìç‰Ωú‰ªéËÄåÂØπstateÁöÑÂÄºËøõË°å‰øÆÊîπ„ÄÇ
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">Â¶ÇÊûústateÁöÑÂÄº‰∏∫0ÔºåË°®Á§∫ÈîÅÊú™Ë¢´ÊåÅÊúâÔºåÂàôÂ∞ÜÂΩìÂâçÁ∫øÁ®ãËÆæÁΩÆ‰∏∫Â∑•‰ΩúÁ∫øÁ®ãÔºàÂç≥Ëé∑ÂèñÂà∞‰∫ÜÈîÅÔºâÔºåÂπ∂Â∞ÜstateÁöÑÂÄºËÆæÁΩÆ‰∏∫1ÔºåËøîÂõûÊàêÂäüËé∑ÂèñÂà∞ÈîÅ„ÄÇ
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">Â¶ÇÊûúÊú™ËÉΩÊàêÂäüËé∑ÂèñÂà∞ÈîÅÔºåAQSÂÖàËá™ÊóãËé∑ÂèñÈîÅÔºåÂ¶ÇÊûú‰∏ÄÁõ¥Ëé∑Âèñ‰∏çÂà∞ÔºåÂàôÂ∞ÜÂΩìÂâçËé∑Âèñ‰∏çÂà∞ÈîÅÁöÑÁ∫øÁ®ãÂä†ÂÖ•Âà∞FIFOÈòüÂàó‰∏≠
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÊûÑÊàêÔºö
</span></span><span class="line"><span class="cl">AQS‰ΩøÁî®‰∏Ä‰∏™volatileÊàêÂëòÂèòÈáèstateÊù•Ë°®Á§∫ÈîÅÊòØÂê¶Â∑≤Ë¢´ÊåÅÊúâ(0/1)ÔºåÈÄöËøáÂÜÖÁΩÆÁöÑFIFOÈòüÂàóÂ≠òÂÇ®Ë¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ã
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÊÄé‰πàÊîπstateÔºö
</span></span><span class="line"><span class="cl">AQS‰ΩøÁî®CASÊú∫Âà∂ÂØπstateËøõË°åÂéüÂ≠êÊìç‰Ωú‰ªéËÄåÂØπstateÁöÑÂÄºËøõË°å‰øÆÊîπ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÊÄé‰πàÂèñÂà∞ÈîÅ:
</span></span><span class="line"><span class="cl">Â¶ÇÊûústateÁöÑÂÄº‰∏∫0ÔºåË°®Á§∫ÈîÅÊú™Ë¢´ÊåÅÊúâÔºåÂàôÂ∞ÜÂΩìÂâçÁ∫øÁ®ãËÆæÁΩÆ‰∏∫Â∑•‰ΩúÁ∫øÁ®ãÔºàÂç≥Ëé∑ÂèñÂà∞‰∫ÜÈîÅÔºâÔºåÂπ∂Â∞ÜstateÁöÑÂÄºËÆæÁΩÆ‰∏∫1ÔºåËøîÂõûÊàêÂäüËé∑ÂèñÂà∞ÈîÅ„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Âèñ‰∏çÂà∞ÊÄé‰πàÂäûÔºö
</span></span><span class="line"><span class="cl">Â¶ÇÊûúÊú™ËÉΩÊàêÂäüËé∑ÂèñÂà∞ÈîÅÔºåAQSÂÖàËá™ÊóãËé∑ÂèñÈîÅ
</span></span><span class="line"><span class="cl">Â¶ÇÊûú‰∏ÄÁõ¥Ëé∑Âèñ‰∏çÂà∞ÔºåÂàôÂ∞ÜÂΩìÂâçËé∑Âèñ‰∏çÂà∞ÈîÅÁöÑÁ∫øÁ®ãÂä†ÂÖ•Âà∞FIFOÈòüÂàó‰∏≠
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Ê≥®ÔºöFIFOÂÖ¨Âπ≥ÈîÅ  ÂèåÂêëÈòüÂàóÔºöÈùûÂÖ¨Âπ≥ÈîÅ</strong></p>
<h2 id="Ëá™ÊóãÈîÅ">Ëá™ÊóãÈîÅ
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ÊòØÊåáÂΩì‰∏Ä‰∏™Á∫øÁ®ãÂú®Ëé∑ÂèñÈîÅÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÈîÅÂ∑≤ÁªèË¢´ÂÖ∂ÂÆÉÁ∫øÁ®ãËé∑ÂèñÔºåÈÇ£‰πàËØ•Á∫øÁ®ãÂ∞ÜÂæ™ÁéØÁ≠âÂæÖÔºåÁÑ∂Âêé‰∏çÊñ≠ÁöÑÂà§Êñ≠ÈîÅÊòØÂê¶ËÉΩÂ§üË¢´ÊàêÂäüËé∑ÂèñÔºåÁõ¥Âà∞Ëé∑ÂèñÂà∞ÈîÅÊâç‰ºöÈÄÄÂá∫Âæ™ÁéØ„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ËøôÊ†∑Ëé∑ÂèñÈîÅÁöÑÁ∫øÁ®ã‰∏ÄÁõ¥Â§Ñ‰∫éÊ¥ªË∑ÉÁä∂ÊÄÅ
</span></span><span class="line"><span class="cl">‰ΩÜÊòØÂπ∂Ê≤°ÊúâÊâßË°å‰ªª‰ΩïÊúâÊïàÁöÑ‰ªªÂä°
</span></span><span class="line"><span class="cl">ÈïøÊó∂Èó¥‰ΩøÁî®ËøôÁßçÈîÅ‰ºöÈÄ†ÊàêÁ≥ªÁªüË¥üËΩΩÂæàÂ§ßÔºåËÄóË¥πÊÄßËÉΩÔºåÈòªÊ≠¢‰∫ÜÂÖ∂‰ªñÁ∫øÁ®ãÁöÑËøêË°åÂíåË∞ÉÂ∫¶
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Ëá™ÊóãÁöÑÁ∫øÁ®ã‰øùÊåÅÊóãËΩ¨Áä∂ÊÄÅ(ÂèçÂ§çÂ∞ùËØïËé∑ÂèñÈîÅ)ÔºåËÄåÊåÅÊúâËØ•ÈîÅÁöÑÁ∫øÁ®ãÂπ∂‰∏çÊâìÁÆóÈáäÊîæÈîÅÔºåËøôÊ†∑ÂØºËá¥ÁöÑÊòØÁªìÊûúÊòØÊó†ÈôêÊúüÊé®ËøüÔºåÁõ¥Âà∞ÊåÅÊúâÈîÅÁöÑÁ∫øÁ®ãÂèØ‰ª•ÂÆåÊàêÂπ∂ÈáäÊîæÂÆÉ‰∏∫Ê≠¢„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÂØπ‰∫éReentrantLockÊù•ËØ¥ÔºåËá™ÊóãÁöÑËøáÁ®ãÂ∞±ÊòØ‰∏çÊñ≠Â∞ùËØï Ë∞ÉÁî®lock()ÁöÑËøáÁ®ãÔºà‰ΩøÁî®CASÁöÑÊñπÂºè‰øÆÊîπstateÂÄºÔºâ</li>
<li>ÂØπ‰∫éÂéüÂ≠êÊìç‰ΩúÁ±ªÊù•ËØ¥ÔºåËá™ÊóãÁöÑËøáÁ®ãÂ∞±ÊòØÊØîËæÉÂíå‰∫§Êç¢Â§±Ë¥•ÂêéÂÜçÊ¨°Â∞ùËØïÊØîËæÉÂíå‰∫§Êç¢ÁöÑËøáÁ®ãÔºàCASÔºâ</li>
</ul>
<h3 id="Ëá™ÊóãÈîÅ‰ºòÁÇπ">Ëá™ÊóãÈîÅ‰ºòÁÇπ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1.Ëá™ÊóãÈîÅÂ∞ΩÂèØËÉΩÁöÑÂáèÂ∞ëÁ∫øÁ®ãÁöÑÈòªÂ°û
</span></span><span class="line"><span class="cl">ËøôÂØπ‰∫éÈîÅÁöÑÁ´û‰∫â‰∏çÊøÄÁÉàÔºå‰∏îÂç†Áî®ÈîÅÊó∂Èó¥ÈùûÂ∏∏Áü≠ÁöÑ‰ª£Á†ÅÂùó Êù•ËØ¥ÊÄßËÉΩËÉΩÂ§ßÂπÖÂ∫¶ÁöÑÊèêÂçá
</span></span><span class="line"><span class="cl">Âõ†‰∏∫Ëá™ÊóãÁöÑÊ∂àËÄó‰ºöÂ∞è‰∫éÁ∫øÁ®ãÈòªÂ°ûÊåÇËµ∑ÂÜçÂî§ÈÜíÁöÑÊìç‰ΩúÁöÑÊ∂àËÄó
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2.‰∏ç‰ΩøÁî®Ëá™ÊóãÔºåÂπ∂‰∏îËé∑Âèñ‰∏çÂà∞ÈîÅÁöÑÊó∂ÂÄôÁõ¥Êé•ËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅ
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Ëá™ÊóãÈîÅÁº∫ÁÇπ">Ëá™ÊóãÈîÅÁº∫ÁÇπ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Â¶ÇÊûúÈîÅÁöÑÁ´û‰∫âÊøÄÁÉàÔºåÊàñËÄÖÊåÅÊúâÈîÅÁöÑÁ∫øÁ®ãÈúÄË¶ÅÈïøÊó∂Èó¥Âç†Áî®ÈîÅÊâßË°åÂêåÊ≠•Âùó
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ËøôÁßçÊÉÖÂÜµ‰∏çÈÄÇÂêà‰ΩøÁî®Ëá™ÊóãÈîÅ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Âõ†‰∏∫Ëá™ÊóãÈîÅÂú®Ëé∑ÂèñÈîÅÂâç‰∏ÄÁõ¥ÈÉΩÊòØÂç†Áî® cpu ÂÅöÊó†Áî®ÂäüÔºåÁ∫øÁ®ãËá™ÊóãÁöÑÊ∂àËÄóÂ§ß‰∫éÁ∫øÁ®ãÈòªÂ°ûÊåÇËµ∑Êìç‰ΩúÁöÑÊ∂àËÄóÔºåÂÖ∂ÂÆÉÈúÄË¶Å cpu ÁöÑÁ∫øÁ®ãÂèà‰∏çËÉΩËé∑ÂèñÂà∞ cpuÔºåÈÄ†Êàê cpu ÁöÑÊµ™Ë¥π„ÄÇ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ÊâÄ‰ª•ËøôÁßçÊÉÖÂÜµ‰∏ãÊàë‰ª¨Ë¶ÅÂÖ≥Èó≠Ëá™ÊóãÈîÅ„ÄÇ
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="synchronizedÈîÅÂçáÁ∫ßËøáÁ®ã">synchronizedÈîÅÂçáÁ∫ßËøáÁ®ã
</h1><ul>
<li>
<p>Êó†ÈîÅÁä∂ÊÄÅÔºöÊ≤°ÊúâÁ∫øÁ®ãÊù•Áî≥ËØ∑ÈîÅ</p>
</li>
<li>
<p>ÂÅèÂêëÈîÅÁä∂ÊÄÅÔºöÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÊù•Áî≥ËØ∑ÈîÅÔºå„ÄêÊ≤°ÊúâÁ´û‰∫â„ÄëÔºå‰∏çÈúÄË¶ÅÂÅöÂä†ÈîÅ„ÄÅËß£ÈîÅÁöÑÊìç‰Ωú</p>
<ul>
<li>‰ªéÊó†ÈîÅÁä∂ÊÄÅÂà∞ÂΩìÂâçÁä∂ÊÄÅÔºåÊØèÊ¨°Êù•Áî≥ËØ∑ÈîÅÁöÑÈÉΩÊòØËøôÂêå‰∏Ä‰∏™Á∫øÁ®ãÔºå‰∏≠Èó¥Ê≤°ÊúâÂà´ÁöÑÁ∫øÁ®ãÊù•Áî≥ËØ∑Ëøá</li>
</ul>
</li>
<li>
<p>ËΩªÈáèÁ∫ßÈîÅÁä∂ÊÄÅÔºöÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÊù•Áî≥ËØ∑ÈîÅÔºå„ÄêÊ≤°ÊúâÁ´û‰∫â„ÄëÔºå‰∏çÈúÄË¶ÅÂÅöÂä†ÈîÅ„ÄÅËß£ÈîÅÁöÑÊìç‰Ωú</p>
<ul>
<li>‰ªé‰∏ä‰∏Ä‰∏™Áä∂ÊÄÅÂà∞Áé∞Âú®Áä∂ÊÄÅÔºåÈîÅÂØπË±°Ë¢´‰∏çÂêåÁ∫øÁ®ãÁî≥ËØ∑ËøáÔºåÂè™‰∏çËøáÊØèÊ¨°ÈÉΩÊòØÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÊù•Áî≥ËØ∑</li>
</ul>
</li>
<li>
<p>ÈáçÈáèÁ∫ßÈîÅÁä∂ÊÄÅÔºöÂêåÊó∂ÊúâÂ§ö‰∏™Á∫øÁ®ãÊù•Áî≥ËØ∑ÈîÅÔºå„ÄêÊúâÁ´û‰∫â„ÄëÔºåÈúÄË¶ÅÂÅöÂä†ÈîÅ„ÄÅËß£ÈîÅÁöÑÊìç‰Ωú</p>
</li>
</ul>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/yuan/p/juc/">
        
        

        <div class="article-details">
            <h2 class="article-title">juc</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/yuan/p/%E7%BA%BF%E7%A8%8B%E6%B1%A0/">
        
        

        <div class="article-details">
            <h2 class="article-title">Á∫øÁ®ãÊ±†</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/yuan/p/jvm/">
        
        

        <div class="article-details">
            <h2 class="article-title">JVM</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/yuan/p/javaweb%E5%92%8Cssm%E9%A2%98%E5%BA%93/">
        
        

        <div class="article-details">
            <h2 class="article-title">JavaWEBÂíåSSMÈ¢òÂ∫ì</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/yuan/p/%E9%94%81%E7%9B%B8%E5%85%B3/">
        
        

        <div class="article-details">
            <h2 class="article-title">ÈîÅÁõ∏ÂÖ≥</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2024 - 
        
        2025 Á±≥È•≠ËÉΩÂêÉÈ•±
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/yuan/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
